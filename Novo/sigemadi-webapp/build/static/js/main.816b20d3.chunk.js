(this["webpackJsonpsigemadi-webapp"]=this["webpackJsonpsigemadi-webapp"]||[]).push([[0],{141:function(e,t,a){e.exports=a.p+"static/media/Desintegrating_html.b03b05a2.png"},427:function(e,t,a){e.exports=a.p+"static/media/iselSigemadi.6601043a.png"},453:function(e,t,a){e.exports=a.p+"static/media/helen.1d77af03.jpg"},455:function(e,t,a){e.exports=a.p+"static/media/matthew.046e91f7.png"},500:function(e,t,a){e.exports=a(801)},505:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/SigemadiLogo.a1773ca5.png"},64:function(e,t,a){e.exports=a.p+"static/media/IselAdeetcLogo.bf8ea183.png"},801:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(74),l=a.n(c),i=a(26),o=a(75),u=a(76),s=a(79),m=a(78),d=a(37),f=a(55),h=(a(505),a(8));var p=function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userinfo"));switch(e.role){case"staff":return l(t.roles.find((function(e){return"staff"==e.name}))?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:t.selectedRole.homeRoute}));case"teacher":return l(t.roles.find((function(e){return"teacher"==e.name}))?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:t.selectedRole.homeRoute}));case"technician":return l(t.roles.find((function(e){return"technician"==e.name}))?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:t.selectedRole.homeRoute}));case"labmanager":return l(t.roles.find((function(e){return"lab_responsible"==e.name}))?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:t.selectedRole.homeRoute}));case"administrator":return l(t.roles.find((function(e){return"administrator"==e.name}))?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:t.selectedRole.homeRoute}));default:return l(r.a.createElement(d.b,e))}}),[e]),c},E=a(427),b=a.n(E),g=a(850),v=a(145),y=a(16);var j=function(e){return r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),r.a.createElement(g.a,{floated:"right",style:{cursor:"pointer",color:"#a22717"},content:"Login"},r.a.createElement(i.b,{to:"/login"},"Login")),r.a.createElement(g.a,{size:"huge"},"SiGeMaDi"),r.a.createElement(v.a,{className:"ui fluid centered image",src:b.a,style:{marginTop:"5%"}}))},O=a(849),S=a(848),k=a(52);var C=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],o=[{name:"administrator",value:r.a.createElement(g.a,{size:"medium",key:"admin"},r.a.createElement(i.b,{to:"/auth/admin",onClick:function(){return u("administrator","/auth/admin")}},"Administrator"))},{name:"lab_responsible",value:r.a.createElement(g.a,{size:"medium",key:"resp"},r.a.createElement(i.b,{to:"/auth/labmanager",onClick:function(){return u("lab_responsible","/auth/labmanager")}},"Laboratory Responsible"))},{name:"teacher",value:r.a.createElement(g.a,{size:"medium",key:"doc"},r.a.createElement(i.b,{to:"/auth/teacher",onClick:function(){return u("teacher","/auth/teacher")}},"Teacher"))},{name:"technician",value:r.a.createElement(g.a,{size:"medium",key:"tecn"},r.a.createElement(i.b,{to:"/auth/tech",onClick:function(){return u("technician","/auth/tech")}},"Technician"))},{name:"staff",value:r.a.createElement(g.a,{size:"medium",key:"func"},r.a.createElement(i.b,{to:"/auth/staff",onClick:function(){return u("staff","/auth/staff")}},"Staff"))}];function u(e,t){var a=JSON.parse(localStorage.getItem("userinfo"));a.selectedRole={name:e,homeRoute:t},localStorage.removeItem("userinfo"),localStorage.setItem("userinfo",JSON.stringify(a))}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userinfo")),t=[];e.roles.map((function(e){return"student"!=e.name?t.push(o.find((function(t){return t.name===e.name})).value):null})),l(t)}),[]),r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Choose a Role:"),r.a.createElement(y.SemanticToastContainer,null),r.a.createElement(O.a,null),0==c.length?r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0})):c)},z=a(63),T=a.n(z),I=a(64),w=a.n(I),_=function(e){var t=e.children,a={display:"inline-block",margin:10,marginBottom:30};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/staff",className:"link"}," Home ",r.a.createElement(k.a,{size:"small",name:"home"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:{pathname:"/auth/staff/material"},className:"link"},"Material ",r.a.createElement(k.a,{size:"small",name:"microchip"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/staff/request",className:"link"},"Request ",r.a.createElement(k.a,{size:"small",name:"clipboard list"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/",className:"link",onClick:function(){return localStorage.removeItem("token")}},"Logout",r.a.createElement(k.a,{size:"small",name:"sign out alternate"}))),r.a.createElement(v.a,{src:T.a,style:{width:"8%",height:"8%"},floated:"right"}),r.a.createElement(v.a,{src:w.a,size:"small",floated:"left"})),r.a.createElement("div",{style:{marginTop:"7%"}},t))},x=a(19),R=function(e){var t=e.children,a={display:"inline-block",margin:10,marginBottom:30};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/admin",className:"link"},"Home ",r.a.createElement(k.a,{size:"small",name:"home"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/admin/usersroles",className:"link"},"Roles ",r.a.createElement(k.a,{size:"small",name:"users"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/admin/areas",className:"link"},"Scientific Areas ",r.a.createElement(k.a,{size:"small",name:"graduation"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/admin/statistics",className:"link"},"Statistics ",r.a.createElement(k.a,{size:"small",name:"line graph"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/",className:"link",onClick:function(){return localStorage.removeItem("token")}},"Logout",r.a.createElement(k.a,{size:"small",name:"sign out alternate"}))),r.a.createElement(g.a,{block:!0,size:"large",style:Object(x.a)(Object(x.a)({},a),{},{marginLeft:"3%"})},r.a.createElement(i.b,{to:"/auth/roles",className:"link"},"Change Role ",r.a.createElement(k.a.Group,null,r.a.createElement(k.a,{name:"user"}),r.a.createElement(k.a,{corner:"bottom right",name:"exchange"})))),r.a.createElement(v.a,{src:T.a,style:{width:"8%",height:"8%"},floated:"right"}),r.a.createElement(v.a,{src:w.a,size:"small",floated:"left"})),r.a.createElement("div",{style:{marginTop:"7%"}},t))},q=function(e){var t=e.children,a={display:"inline-block",margin:10,marginBottom:30};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/tech",className:"link"},"Home ",r.a.createElement(k.a,{size:"small",name:"home"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/tech/damages",className:"link"},"Material ",r.a.createElement(k.a,{size:"small",name:"bug"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/tech/history",className:"link"},"History ",r.a.createElement(k.a,{size:"small",name:"history"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/",className:"link",onClick:function(){return localStorage.removeItem("token")}},"Logout",r.a.createElement(k.a,{size:"small",name:"sign out alternate"}))),r.a.createElement(g.a,{block:!0,size:"large",style:Object(x.a)(Object(x.a)({},a),{},{marginLeft:"3%"})},r.a.createElement(i.b,{to:"/auth/roles",className:"link"},"Change Role ",r.a.createElement(k.a.Group,null,r.a.createElement(k.a,{name:"user"}),r.a.createElement(k.a,{corner:"bottom right",name:"exchange"})))),r.a.createElement(v.a,{src:T.a,style:{width:"8%",height:"8%"},floated:"right"}),r.a.createElement(v.a,{src:w.a,size:"small",floated:"left"})),r.a.createElement("div",{style:{marginTop:"7%"}},t))},D=function(e){var t=e.children,a={display:"inline-block",margin:10,marginBottom:30};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/teacher",className:"link"},"Home ",r.a.createElement(k.a,{size:"small",name:"home"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/teacher/material",className:"link"},"Material ",r.a.createElement(k.a,{size:"small",name:"microchip"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/teacher/reservation",className:"link"},"Reservation ",r.a.createElement(k.a,{size:"small",name:"file alternate"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/",className:"link",onClick:function(){return localStorage.removeItem("token")}},"Logout",r.a.createElement(k.a,{size:"small",name:"sign out alternate"}))),r.a.createElement(g.a,{block:!0,size:"large",style:Object(x.a)(Object(x.a)({},a),{},{marginLeft:"3%"})},r.a.createElement(i.b,{to:"/auth/roles",className:"link"},"Change Role ",r.a.createElement(k.a.Group,null,r.a.createElement(k.a,{name:"user"}),r.a.createElement(k.a,{corner:"bottom right",name:"exchange"})))),r.a.createElement(v.a,{src:T.a,style:{width:"8%",height:"8%"},floated:"right"}),r.a.createElement(v.a,{src:w.a,size:"small",floated:"left"})),r.a.createElement("div",{style:{marginTop:"7%"}},t))},A=function(e){var t=e.children,a={display:"inline-block",margin:10,marginBottom:30};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/labmanager",className:"link"},"Home ",r.a.createElement(k.a,{size:"small",name:"home"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/labmanager/material",className:"link"},"Material ",r.a.createElement(k.a,{size:"small",name:"microchip"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/labmanager/type",className:"link"},"Material Types ",r.a.createElement(k.a,{size:"small",name:"tags"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/auth/labmanager/statistics",className:"link"},"Statistics ",r.a.createElement(k.a,{size:"small",name:"line graph"}))),r.a.createElement(g.a,{size:"medium",style:a},r.a.createElement(i.b,{to:"/",className:"link",onClick:function(){return localStorage.removeItem("token")}},"Logout",r.a.createElement(k.a,{size:"small",name:"sign out alternate"}))),r.a.createElement(g.a,{block:!0,size:"large",style:Object(x.a)(Object(x.a)({},a),{},{marginLeft:"3%"})},r.a.createElement(i.b,{to:"/auth/roles",className:"link"},"Change Role ",r.a.createElement(k.a.Group,null,r.a.createElement(k.a,{name:"user"}),r.a.createElement(k.a,{corner:"bottom right",name:"exchange"})))),r.a.createElement(v.a,{src:T.a,style:{width:"8%",height:"8%"},floated:"right"}),r.a.createElement(v.a,{src:w.a,size:"small",floated:"left"})),r.a.createElement("div",{style:{marginTop:"7%"}},t))},M=a(35),N=a(24),B=a.n(N),L=a(443),H=a(240),F=a(223),P=a(122),Y=function(e){var t=function(t){var a={type:e.name,id:t.target.value};e.changeFilter(a)};return r.a.createElement("div",null,r.a.createElement("div",null,e.title?r.a.createElement("label",{style:{margin:10}},"Filter by ",e.title,":"):null,r.a.createElement("select",{value:e.value,onChange:t},e.optionAll?r.a.createElement("option",{value:"all",key:"all"},"All"):null,e.types.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))))},J="http://10.62.73.49:8085/sigemadi/api",K="".concat(J,"/login"),W="".concat(J,"/scientificareas"),Q="".concat(J,"/scientificareas/:id"),G="".concat(J,"/subjects"),U="".concat(J,"/subjects/:id"),V="".concat(J,"/scientificareas/:sciAreaId/subjects"),$="".concat(J,"/types"),X="".concat(J,"/types/:id"),Z="".concat(J,"/scientificareas/:sciAreaId/types"),ee="".concat(J,"/scientificareas/:sciAreaId/types/:id"),te="".concat(J,"/materials"),ae="".concat(J,"/materials/:id"),ne="".concat(J,"/roles"),re="".concat(J,"/users/:id/roles"),ce="".concat(J,"/users/:id"),le="".concat(J,"/users"),ie="".concat(J,"/damages?solved=:flag"),oe="".concat(J,"/damagesstates"),ue="".concat(J,"/damages/:id"),se="".concat(J,"/requests"),me="".concat(J,"/requests/:id"),de="".concat(J,"/users/:id/requests"),fe="".concat(J,"/requests/:id/materials"),he="".concat(J,"/requests/:reqId/materials/:id"),pe="".concat(J,"/users/:id/reservations"),Ee="".concat(J,"/reservations"),be="".concat(J,"/reservations/:id"),ge="".concat(J,"/materials/:id/damages"),ve="".concat(J,"/requests/:reqId/materials/:id"),ye="".concat(J,"/statistics/toptenmostusedmaterialtypes"),je="".concat(J,"/statistics/toptenmostusedmaterials"),Oe="".concat(J,"/statistics/damagespertype"),Se="".concat(J,"/statistics/damagedmaterials"),ke="".concat(J,"/statistics/averagetimetorepair"),Ce="".concat(J,"/statistics/numberofrequestedhourspertype"),ze="".concat(J,"/statistics/numberofrequestedhourspermaterial"),Te="".concat(J,"/statistics/requestspertypebyday"),Ie="".concat(J,"/statistics/requestspertypebymonth"),we="".concat(J,"/statistics/requestspertypebyyear"),_e=(a(695),a(141)),xe=a.n(_e),Re=function(e){var t=e.home,a=localStorage.getItem("userinfo"),n=null!=a?JSON.parse(a).selectedRole.homeRoute:"/";return r.a.createElement("div",{style:{backgroundImage:"url(".concat(xe.a,")"),backgroundSize:"cover",height:"100vh",width:"100vw"}},t?r.a.createElement(g.a,{style:{display:"flex"}},r.a.createElement(i.b,{to:n},"Go to Home")):null,r.a.createElement(g.a,{size:"huge",style:{display:"flex",marginTop:"10%"}},"404"),r.a.createElement(g.a,{size:"huge",style:{display:"flex"}},"Page Not Found!"))},qe=function(){return r.a.createElement("div",{style:{backgroundImage:"url(".concat(xe.a,")"),backgroundSize:"cover",height:"100vh",width:"100vw"}},r.a.createElement(g.a,{size:"huge",style:{display:"flex",marginTop:"10%"}},"500"),r.a.createElement(g.a,{size:"huge",style:{display:"flex"}},"Internal Server Error!"))},De=function(){return r.a.createElement("div",{style:{backgroundImage:"url(".concat(xe.a,")"),backgroundSize:"cover",height:"100vh",width:"100vw"}},r.a.createElement(g.a,{size:"huge",style:{display:"flex",marginTop:"10%"}},"400"),r.a.createElement(g.a,{size:"huge",style:{display:"flex"}},"Bad Request!"))},Ae=function(e){if(void 0===e)return Object(y.toast)({type:"error",title:"Something Went Wrong",time:2e3,size:"mini",description:"Something went wrong, please try again later!"}),r.a.createElement(qe,null);if(201==e.status||200==e.status)Object(y.toast)({type:"success",title:"Success",time:2e3,size:"mini",description:e.data.status,status:e.status});else{if(Object(y.toast)({type:"error",title:e.data.title||"Something Went Wrong",time:2e3,size:"mini",description:e.data.detail||"Something went wrong, please try again later!",status:e.data.status}),400==e.status)return r.a.createElement(De,null);if(401==e.status)return localStorage.clear(),r.a.createElement(d.a,{to:"/login"});if(404==e.status)return r.a.createElement(Re,null);if(500==e.status||504==e.status)return r.a.createElement(qe,null)}},Me=["sci_area","subject","type"];var Ne=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)([]),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)([]),b=Object(h.a)(E,2),g=b[0],v=b[1],y=Object(n.useState)(!1),j=Object(h.a)(y,2),O=j[0],S=j[1],k=Object(n.useState)("collapse"),C=Object(h.a)(k,2),z=C[0],T=C[1],I=Object(n.useState)(null),w=Object(h.a)(I,2),_=w[0],R=w[1],q=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function D(e){q.get(W).then((function(t){q.get(G).then((function(a){q.get($).then((function(n){p(t.data.sci_areas),s(a.data.subjects),l(n.data.types),e&&S(!0)})).catch((function(e){return R(Ae(e.response))}))})).catch((function(e){return R(Ae(e.response))}))})).catch((function(e){return R(Ae(e.response))}))}function A(t){var a=t[t.length-1],n=g.find((function(e){return"sci_area"==e.type})),r=g.find((function(e){return"type"==e.type})),i=g.find((function(e){return"subject"==e.type}));"sci_area"===a.type?function(t,a,n,r){q.get(Q.replace(":id",t.id)).then((function(t){var i=t.data.subjects,o=t.data.types;void 0!=n&&(0==(o=L(o,[n])).length&&(o=[n]),i=L(i,u)),void 0!=a&&(0==(i=L(i,[a])).length&&(i=[a]),o=L(o,c)),1==O&&(e.setFilters(N(Object(M.a)(r))),S(!1)),s(i),l(o)})).catch((function(e){return R(Ae(e.response))}))}(a,i,r,t):"subject"===a.type?function(t,a,n,r){q.get(U.replace(":id",t.id)).then((function(t){var c=t.data.sci_area.id;void 0!=a&&(c=a.id),q.get(Q.replace(":id",c)).then((function(c){var i=L([t.data.sci_area],f),o=L(t.data.types,c.data.types);1==O&&(e.setFilters(N(Object(M.a)(r))),S(!1)),void 0!=a&&0==(i=L(i,[a])).length&&(i=[a]),void 0!=n&&0==(o=L(o,[n])).length&&(o=[n]),p(i),l(o)})).catch((function(e){return R(Ae(e.response))}))})).catch((function(e){return R(Ae(e.response))}))}(a,n,r,t):"type"===a.type&&function(t,a,n,r){q.get(X.replace(":id",t.id)).then((function(i){var o=L([i.data.sci_area],f),m=L(i.data.subjects,u),d=c,h=i.data.sci_area.id;void 0!=a&&(h=a.id),q.get(Q.replace(":id",h)).then((function(c){m=L(c.data.subjects,m),void 0!=n?q.get(U.replace(":id",n.id)).then((function(e){0==(d=L(e.data.types,d)).length&&(d=[t]),l(d)})):l(d),1==O&&(e.setFilters(N(Object(M.a)(r))),S(!1)),void 0!=a&&(0==(o=L(o,[a])).length&&(o=[a]),0==(d=L(c.data.types,d)).length&&(d=[t])),void 0!=n&&0==(m=L(m,[n])).length&&(m=[n]),p(o),s(m)})).catch((function(e){return R(Ae(e.response))}))})).catch((function(e){return R(Ae(e.response))}))}(a,n,i,t)}function N(e){var t="?";return(e=e.sort((function(e,t){return Me.indexOf(e.type)-Me.indexOf(t.type)}))).map((function(e,a){t+="".concat(e.type,"=").concat(e.id),a+1!=g.length&&(t+="&")})),t}function L(e,t){return e.filter((function(e){return void 0!=t.find((function(t){return t.id==e.id}))}))}function H(e){"all"!=e.id&&(!function(e){T("visible");var t=g,a=t.findIndex((function(t){return t.type===e.type}));a>-1?t[a]=e:t.push(e);v(t)}(e),A([e]))}function F(e){var t=g.find((function(t){return t.type===e}));return void 0!=t?t.id:"all"}Object(n.useEffect)((function(){if(e.location&&e.location.search){var t=new URLSearchParams(e.location.search).entries(),a=t.next(),n=[];do{n.push({type:a.value[0],id:a.value[1]}),a=t.next()}while(!a.done);v(n),T("visible"),D(!0)}else D(),e.setFilters()}),[]),Object(n.useEffect)((function(){!0===O&&A(g)}),[O]);var J={display:"inline-block",margin:10,marginBottom:30};return r.a.createElement("div",null,_||r.a.createElement("div",null,r.a.createElement("div",{style:J},r.a.createElement(Y,{changeFilter:H,name:"sci_area",title:"Scientific Areas",types:f,value:F("sci_area"),optionAll:"all"==F("sci_area")})),r.a.createElement("div",{style:J},r.a.createElement(Y,{changeFilter:H,name:"subject",title:"Subjects",types:u,value:F("subject"),optionAll:"all"==F("subject")})),r.a.createElement("div",{style:J},r.a.createElement(Y,{changeFilter:H,name:"type",title:"Material Types",types:c,value:F("type"),optionAll:"all"==F("type")})),r.a.createElement(P.a,{basic:!0,size:"small",content:"Filter",icon:"filter",onClick:function(t){if(t.preventDefault(),g.length>0){var a=N(g);e.updateUrl&&e.history.push({pathname:e.location.pathname,search:a}),e.setFilters(a)}}}),r.a.createElement(P.a,{basic:!0,size:"small",content:"Reset",icon:"filter",id:"reset_filter",onClick:function(t){t.preventDefault(),T("hidden"),e.history.push(e.location.pathname),D(),v([]),e.setFilters()},style:Object(x.a)(Object(x.a)({},J),{},{visibility:z})})))};var Be=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),c=Object(h.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(null),u=Object(h.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(0),f=Object(h.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(!0),v=Object(h.a)(b,2),j=v[0],C=v[1],z=Object(n.useState)(null),T=Object(h.a)(z,2),I=T[0],w=T[1],_=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),x=Object(n.useState)([]),R=Object(h.a)(x,2),q=R[0],D=R[1],A=Object(n.useState)(null),N=Object(h.a)(A,2),Y=N[0],J=N[1];Object(n.useEffect)((function(){return W.observe(t.current),function(){W.disconnect()}}),[]);var K={root:document.querySelector("#material"),rootMargin:"5px",threshold:1},W=new IntersectionObserver((function(e){var t=e[0].intersectionRatio;m(t)}),K);function Q(e,t,a){var n=e;n?n+="&":n="?",n+="page=".concat(t),_.get(te+n).then((function(t){var n=t.data.materials;if(0===n.length&&0===a.length)return i(!1),C(!1),Object(y.toast)({type:"warning",title:"Something went wrong",time:2e3,size:"mini",description:"There are no results for the specified parameters"});0===n.length&&C(!1);var r=a;r.push.apply(r,Object(M.a)(n)),D(r),i(!1),J(e)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){w(t)}),3e3)}))}return Object(n.useEffect)((function(){if(s>=0&&j&&null!=Y&&!l){var e=p+1;E(e),i(!0),Q(Y,e,q)}}),[s]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),I||r.a.createElement("div",null,r.a.createElement(g.a,null,"Material:"),r.a.createElement(Ne,Object.assign({},e,{setFilters:function(e){e||(e=""),E(1),D([]),C(!0),i(!0),Q(e,1,[])},updateUrl:!0})),r.a.createElement(O.a,null),r.a.createElement("div",null,r.a.createElement(L.a,{columns:3,id:"material",style:{height:30,margin:6,padding:8}},0!=q.length||l?q.map((function(t){return r.a.createElement(L.a.Column,{key:t.name},r.a.createElement(H.a,{centered:!0},r.a.createElement(H.a.Header,null,t.name),r.a.createElement(H.a.Description,null,t.id),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement(F.a,{fluid:!0},r.a.createElement(P.a,{content:"Details",icon:"microchip",onClick:function(){return e.history.push(e.location.pathname+"/"+t.id)}}),t.can_be_reported&&"staff"===JSON.parse(localStorage.getItem("userinfo")).selectedRole.name?r.a.createElement(P.a,{content:"Report",icon:"bug",color:"red",onClick:function(){return e.history.push(e.location.pathname+"/".concat(t.id,"/report"))}}):null))))})):r.a.createElement(S.a,null,"There are no results"),r.a.createElement("div",{ref:t}),l?r.a.createElement(L.a.Column,null,r.a.createElement(S.a,{size:"small"},r.a.createElement(k.a,{name:"circle notch",loading:!0}),"Loading...")):null))))},Le=a(851),He=a(101),Fe=[{title:"Name",value:"name"},{title:"Type",value:"type"},{title:"Scientific Areas",value:"sci_area"},{title:"Subjects",value:"subjects"}];var Pe=function(e){var t=Object(n.useState)({subjects:[]}),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var t=e.match.params.id;m.get(ae.replace(":id",t)).then((function(e){l(Object(x.a)(Object(x.a)({},e.data),{},{id:t}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),u||(c.name?r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Material Details"),r.a.createElement(O.a,null),function(){if(null!==c.state){var e="red";return"available"===c.state&&(e="green"),r.a.createElement(He.a,{size:"huge",color:e},"State:",r.a.createElement(He.a.Detail,null,c.state))}}(),r.a.createElement(Le.a,{divided:!0},Fe.map((function(e){var t,a=c[e.value];return"subjects"===e.value&&(a=0==c.id.split("-")[0]?"All Subjects":(t=a).map((function(e,a){return a+1===t.length?e:e+", "}))),r.a.createElement(Le.a.Item,{key:e.title},r.a.createElement(Le.a.Content,{floated:"left"},r.a.createElement(Le.a.Header,null,e.title)),r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(Le.a.Description,null,a)))}))),c.can_be_reported&&"staff"===JSON.parse(localStorage.getItem("userinfo")).selectedRole.name?r.a.createElement(P.a,{size:"medium",color:"red",style:{marginBottom:"5%"},onClick:function(){return function(){var t=e.location.pathname+"/report";e.history.push(t)}()},icon:"bug",content:"Report Damage"}):null,r.a.createElement(H.a.Group,{itemsPerRow:2,stackable:!0},r.a.createElement(H.a,null,r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,"Description"),r.a.createElement(O.a,null),r.a.createElement(H.a.Description,null,r.a.createElement(H.a.Header,{size:"medium"},c.description)))),r.a.createElement(H.a,null,r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,"More Information"),r.a.createElement(O.a,null),r.a.createElement(H.a.Description,null))))):r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0}))))},Ye=a(453),Je=a.n(Ye),Ke=a(854),We=a(247),Qe=a.n(We);var Ge=function(e){var t=Object(n.useState)({id:null,name:null,roles:[]}),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(h.a)(m,2),f=d[0],p=d[1];function E(){p(!1)}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userinfo"));l(Object(x.a)({},e))}),[]),r.a.createElement("div",null,r.a.createElement(H.a,{centered:!0},r.a.createElement(v.a,{src:Je.a,wrapped:!0,ui:!1}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,c.name),r.a.createElement(H.a.Description,null,"Active Role: Staff")),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement("a",null,r.a.createElement("p",null,r.a.createElement(k.a,{name:"users"}),"Role:"),c.roles.map((function(e,t){return t+1===c.roles.length?e.name:e.name+", "}))))),r.a.createElement("div",{style:{marginBottom:"5%"}},r.a.createElement(g.a,null,"Quick Actions:"),r.a.createElement(Ke.a,{trigger:r.a.createElement(P.a,{onClick:function(){p(!0)},icon:"qrcode",content:"Read QR Code"}),open:f,basic:!0,dimmer:"blurring",onClose:E,size:"small"},r.a.createElement(Ke.a.Content,null,r.a.createElement(Qe.a,{delay:300,onError:function(e){s(null),console.error(e)},onScan:function(e){e&&s(e)},style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"60%"}}),r.a.createElement(Ke.a.Header,{style:{textAlign:"center"}},u)),r.a.createElement(Ke.a.Actions,null,r.a.createElement(F.a,{fluid:!0},r.a.createElement(P.a,{basic:!0,color:"green",onClick:function(){E(),e.history.push(e.location.pathname+"/material/".concat(u))},content:"Confirm",inverted:!0}),r.a.createElement(P.a,{basic:!0,color:"red",onClick:E,content:"Cancel",inverted:!0}))))))},Ue=a(100),Ve=a(847),$e=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){t.name;var a=t.value;n.props.setDay&&n.props.setDay(a)},n.state={date:""},n}return Object(u.a)(a,[{key:"currentTime",value:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return e=n+"-"+a+"-"+t}},{key:"render",value:function(){return r.a.createElement(Ve.a,null,r.a.createElement(Ue.DateInput,{dateFormat:"YYYY-MM-DD",name:"date",placeholder:"Data",value:this.props.date,iconPosition:"left",popupPosition:"top left",onChange:this.handleChange,maxDate:this.currentTime()}))}}]),a}(n.Component),Xe=a(808),Ze=[{name:"Active",id:!0},{name:"Old",id:!1}];var et=function(e){var t=Object(n.useRef)(),a=Object(n.useState)([]),c=Object(h.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(""),u=Object(h.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(""),f=Object(h.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)("hidden"),j=Object(h.a)(b,2),C=j[0],z=j[1],T=Object(n.useState)({type:"",id:""}),I=Object(h.a)(T,2),w=I[0],_=I[1],x=Object(n.useState)(!1),R=Object(h.a)(x,2),q=R[0],D=R[1],A=Object(n.useState)(null),N=Object(h.a)(A,2),F=N[0],J=N[1],K=Object(n.useState)(0),W=Object(h.a)(K,2),Q=W[0],G=W[1],U=Object(n.useState)(!0),V=Object(h.a)(U,2),$=V[0],X=V[1],Z=Object(n.useState)(null),ee=Object(h.a)(Z,2),te=ee[0],ae=ee[1],ne=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});Object(n.useEffect)((function(){if(e.location&&e.location.search){var a=new URLSearchParams(e.location.search).entries(),n=a.next(),r=[];do{r.push({name:n.value[0],value:n.value[1]}),n=a.next()}while(!n.done);var c=r.find((function(e){return"user"===e.name})),l=r.find((function(e){return"active"===e.name})),i=r.find((function(e){return"date"===e.name})),o="all";void 0!=l&&(o=l.value),_(l={type:"type",id:o}),z("visible"),void 0!=c?(m(c.value),document.getElementById("searchUser").value=c.value):void 0!=i&&E(i.value)}else _({type:"type",id:"all"});return ce.observe(t.current),function(){ce.disconnect()}}),[]);var re={root:document.querySelector("#requests"),rootMargin:"5px",threshold:1},ce=new IntersectionObserver((function(e){var t=e[0].intersectionRatio;J(t)}),re);function le(t,a,n,r){var c="?user=".concat(t);"all"!=a&&(c+="&active=".concat(a)),e.history.push({pathname:e.location.pathname,search:c}),ne.get(de.replace(":id",t)+"?page=".concat(n)).then((function(e){var t=void 0!=e.data.older&&e.data.older.length>0,n=void 0!=e.data.current;if("all"==a&&!t&&!n||"true"==a&&!n||"false"==a&&!t)return D(!1),X(!1),0==r.length?Object(y.toast)({type:"warning",title:"Something went wrong",time:2e3,size:"mini",description:"There are no results for the specified parameters"}):void 0;if("all"===a){var c=r;c.push.apply(c,Object(M.a)(e.data.older)),n&&c.push(e.data.current),i(c)}else if("true"===a){var l=r;l.push(e.data.current),i(l)}else{var o=r;o.push.apply(o,Object(M.a)(e.data.older)),i(o)}D(!1)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){ae(t)}),3e3)}))}function ie(t,a,n,r){var c="?";""!=a&&(c+="date=".concat(a)),"all"!=t&&("?"!=c&&(c+="&"),c+="active=".concat(t));var l=c;"?"!=c&&(c+="&"),c+="page=".concat(n),e.history.push({pathname:e.location.pathname,search:l}),ne.get(se+c).then((function(e){var t=e.data.requests;if(0==t.length&&0==r.length)return D(!1),X(!1),Object(y.toast)({type:"warning",title:"Something went wrong",time:2e3,size:"mini",description:"There are no results for the specified parameters"});0===t.length&&X(!1);var a=r;a.push.apply(a,Object(M.a)(t)),i(a),D(!1)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){ae(t)}),3e3)}))}return Object(n.useEffect)((function(){if(F>=0&&$&&""!=w.id&&!q&&!te){var e=Q+1;G(e),D(!0),""!=s?le(s,w.id,e,l):ie(w.id,p,e,l)}}),[F]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),te||r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Requests:"),r.a.createElement(P.a,{size:"large",basic:!0,style:{marginBottom:"2%"},onClick:function(){e.history.push("/auth/staff/newrequest/material")},icon:"file alternate",content:"New Request"}),r.a.createElement("div",{style:{display:"block"}},"Filter By Day:",r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement($e,{date:p,setDay:function(e){E(e)}})),r.a.createElement(Xe.a,{size:"mini",id:"searchUser",onChange:function(e,t){return m(t.value)},type:"text",placeholder:"Introduce user number",icon:"users",style:{float:"right"}}),r.a.createElement("div",{style:{display:"block",marginBottom:"1%",float:"left"}},r.a.createElement(Y,{changeFilter:function(e){"all"!=e.id&&_(e)},name:"type",title:"Type",types:Ze,value:w.id,optionAll:"all"==w.id}))),r.a.createElement("div",{style:{display:"block",marginTop:"2%",marginLeft:"6%"}},r.a.createElement(P.a,{size:"large",basic:!0,content:"Search",icon:"search",onClick:function(){if("all"!=w.id||""!=s||""!=p){G(1),X(!0),D(!0),i([]),z("visible"),""!=s?(E(""),le(s,w.id,1,[])):ie(w.id,p,1,[])}}}),r.a.createElement(P.a,{size:"large",basic:!0,style:{visibility:C},id:"resetbutton",content:"Reset",onClick:function(){e.history.push(e.location.pathname),document.getElementById("searchUser").value="";var t={type:"type",id:"all"};G(1),E(""),X(!0),_(t),m(""),i([]),D(!0),z("hidden"),ie(t.id,"",1,[])}})),r.a.createElement(O.a,null),r.a.createElement("div",{style:{display:"block"}},r.a.createElement(L.a,{columns:4,id:"requests",style:{height:30,margin:6,padding:8}},0!=l.length||q?l.map((function(t){return r.a.createElement(L.a.Column,{key:t.id},r.a.createElement(H.a,null,r.a.createElement(v.a,{src:"data:image/jpeg;base64,".concat(t.user_photo),label:t.close_hour?{color:"red",content:"Ended",ribbon:!0,size:"large"}:null,wrapped:!0,ui:!1}),r.a.createElement(H.a.Header,null,t.id),r.a.createElement(H.a.Description,null,t.user_name," | ",t.user_id),r.a.createElement(H.a.Description,null,t.start_date),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement(P.a,{fluid:!0,content:"See Request",icon:"address card",onClick:function(){return a=t.id,void e.history.push(e.location.pathname+"/".concat(a));var a}}))))})):r.a.createElement(S.a,null,"There are no results"),r.a.createElement("div",{ref:t}),q?r.a.createElement(L.a.Column,null,r.a.createElement(S.a,{size:"small"},r.a.createElement(k.a,{name:"circle notch",loading:!0}),"Loading...")):null))))},tt=a(34),at={cursor:"pointer"},nt=function(e){var t=e.name,a=e.label,n=e.isSelected,c=e.onCheckboxChange,l=e.children;return r.a.createElement("div",{className:"form-check",style:{marginTop:30}},r.a.createElement("label",{style:at},r.a.createElement("input",{style:{width:"16px",height:"16px"},type:"checkbox",name:t,checked:n,onChange:c,className:"form-check-input"}),a),l)};var rt=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)({materials:[]}),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)([]),b=Object(h.a)(E,2),j=b[0],C=b[1],z=Object(n.useState)([]),T=Object(h.a)(z,2),I=T[0],w=T[1],_=Object(n.useState)([]),R=Object(h.a)(_,2),q=R[0],D=R[1],A=Object(n.useState)([]),M=Object(h.a)(A,2),N=M[0],L=M[1],F=Object(n.useState)(null),Y=Object(h.a)(F,2),J=Y[0],K=Y[1],W=Object(n.useState)(null),Q=Object(h.a)(W,2),G=Q[0],U=Q[1],V=Object(n.useState)(!1),$=Object(h.a)(V,2),X=$[0],Z=$[1],ee=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function te(e){ee.get(me.replace(":id",e)).then((function(t){var a=t.data.materials;void 0===t.data.close_date&&(L(a.filter((function(e){return void 0!=e.close_date}))),a=a.filter((function(e){return void 0===e.close_date}))),p(Object(x.a)(Object(x.a)({},t.data),{},{materials:a,id:e})),w(a.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(tt.a)({},t.id,!1))}),[]))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){U(t)}),3e3)}))}function ae(){if(void 0!=f.materials.find((function(e){return void 0!=e.damage})))return Object(y.toast)({type:"warning",title:"Missing Information",description:"Please confirm material damage reports!",time:2e3,size:"mini"});if(j.length>0){var e=[];j.map((function(t){e.push(t)})),D(e),l(!0)}else s(!0)}function ne(){Z(!0),q.map((function(e,t){var a=f.materials.find((function(t){return t.name===e.name})).id;setTimeout((function(){ee.delete(he.replace(":reqId",f.id).replace(":id",a),{data:{quantity:e.quantity}}).then((function(e){Ae(e),t+1===q.length&&(setTimeout((function(){te(f.id),Z(!1)}),3e3),C([]))})).catch((function(e){Z(!1);var t=Ae(e.response);setTimeout((function(){U(t)}),3e3)}))}),1e3)})),l(!1)}function re(e){var t=e.target.name;w(Object(x.a)(Object(x.a)({},I),{},Object(tt.a)({},t,!I[t]))),function(e){if(void 0!=j.find((function(t){return t.id==e})))C(j.filter((function(t){return t.id!=e})));else{var t=f.materials.find((function(t){return t.id==e}));if(void 0!=t){var a=j;a.push(t),C(a)}}}(t)}function ce(){return q.map((function(e){return 0==e.id.split("-")[0]?r.a.createElement(Le.a.Item,{key:e.id},r.a.createElement(Le.a.Content,{floated:"left"},r.a.createElement(g.a,null,e.name)),r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(Xe.a,{type:"number",size:"small",required:!0,onChange:function(t,a){return function(e,t,a){parseInt(e)>parseInt(a)&&(e=a),parseInt(e)<parseInt("1")&&(e="1");var n=q;n[q.findIndex((function(e){return e.name===t.name}))]={name:t.name,id:t.id,quantity:e},D(n)}(a.value,e,e.quantity)},min:"1",max:e.quantity,style:{width:"90%"}}))):r.a.createElement(Le.a.Item,null,r.a.createElement(Le.a.Content,{floated:"left",key:e.id},r.a.createElement(g.a,null,e.name)))}))}return Object(n.useEffect)((function(){var t=e.match.params.id;K(JSON.parse(localStorage.getItem("userinfo"))),te(t)}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),G||(0===f.materials.length?r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{loading:!0,name:"circle notch"})):r.a.createElement("div",null,r.a.createElement(H.a,{style:{float:"right"}},r.a.createElement(v.a,{src:"data:image/jpeg;base64,".concat(f.user_photo),wrapped:!0,ui:!1}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,f.user_name),r.a.createElement(H.a.Meta,null,f.user_id)),r.a.createElement(H.a.Content,{extra:!0},f.start_date," | ",f.start_hour,void 0!=f.close_date?r.a.createElement("div",null,r.a.createElement(O.a,null),"Ended",r.a.createElement("div",null,f.close_date," | ",f.close_hour)):null),N.length>0&&void 0==f.close_date?r.a.createElement(H.a.Content,{extra:!0},r.a.createElement("div",null,r.a.createElement(Le.a,{size:"tiny",divided:!0},r.a.createElement(g.a,null,"Material Delivered"),N.map((function(e){return r.a.createElement(Le.a.Item,{key:e.name},r.a.createElement(Le.a.Header,null,e.name+" | Quantity: "+e.quantity),r.a.createElement(Le.a.Description,null,"Delivered: ",e.close_date+" | "+e.close_hour))}))))):null),void 0!=f.close_date?null:r.a.createElement("div",null,r.a.createElement(P.a,{id:"endButton",disabled:X,floated:"right",color:j.length>0?"":"red",onClick:ae,content:j.length>0?"Remove Material":"End Request",icon:"check"}),r.a.createElement(P.a,{id:"addButton",disabled:X,floated:"left",onClick:function(){e.history.push({pathname:"".concat(e.location.pathname,"/material")})},content:"Add Material",icon:"add"})),r.a.createElement(g.a,null,"Material: "),r.a.createElement(O.a,null),r.a.createElement("div",{style:{display:"inline-block"}},void 0!=f.close_date?f.materials.map((function(e){return r.a.createElement(g.a,{key:e.id,size:"tiny"},e.name+" | "+e.id+" | Quantity: "+e.quantity)})):f.materials.map((function(e){return r.a.createElement("div",{onSubmit:ae,key:e.id},r.a.createElement(nt,{name:e.id,label:e.name+" | "+e.id+" | Quantity: "+e.quantity,isSelected:I[e.id],onCheckboxChange:re,key:e.id},void 0===e.damage?null:r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(P.a.Group,{size:"tiny"},r.a.createElement(P.a,{id:"confirm"+e.id,size:"tiny",color:"green",onClick:function(){return function(e,t){var a=document.getElementById("confirm"+e),n=document.getElementById("cancel"+e);a.disabled=!0,n.disabled=!0,Z(!0),ee.delete(he.replace(":reqId",f.id).replace(":id",e),{data:{quantity:1}}).then((function(a){ee.post(ge.replace(":id",e),{description:t,user:J.id}).then((function(e){Ae(e),setTimeout((function(){te(f.id),Z(!1)}),3e3)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){U(t)}),3e3)}))})).catch((function(e){Z(!1),a.disabled=!1,n.disabled=!1;var t=Ae(e.response);setTimeout((function(){U(t)}),3e3)}))}(e.id,e.damage.description)},icon:"check",content:"Confirm Damage"}),r.a.createElement(P.a,{id:"cancel"+e.id,size:"tiny",onClick:function(){return function(e){var t=document.getElementById("confirm"+e),a=document.getElementById("cancel"+e);t.disabled=!0,a.disabled=!0,ee.delete(ve.replace(":reqId",f.id).replace(":id",e)).then((function(e){te(f.id)})).catch((function(e){t.disabled=!1,a.disabled=!1;var n=Ae(e.response);setTimeout((function(){U(n)}),3e3)}))}(e.id)},icon:"close",content:"Cancel"})))))}))))),r.a.createElement(Ke.a,{size:"small",open:c,dimmer:"blurring"},r.a.createElement(g.a,{size:"huge",textAlign:"center"},"Remove Material from Request"),r.a.createElement(Ke.a.Content,{scrolling:!0},r.a.createElement(Ke.a.Description,null,r.a.createElement(g.a,{size:"large",textAlign:"center"},"Verify the material and each quantity to remove from request"),r.a.createElement(O.a,null),r.a.createElement(Le.a,{divided:!0},ce()))),r.a.createElement(Ke.a.Actions,null,r.a.createElement(P.a,{color:"red",onClick:ne,content:"Remove"}),r.a.createElement(P.a,{onClick:function(){return l(!1)},content:"Cancel"}))),r.a.createElement(Ke.a,{open:u,basic:!0,size:"small"},r.a.createElement(g.a,{icon:"exclamation triangle",content:"You are about to end this request"}),r.a.createElement(Ke.a.Content,null,r.a.createElement(Ke.a.Header,null,"Do you really want to end this request?")),r.a.createElement(Ke.a.Actions,null,r.a.createElement(P.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return s(!1)},content:"Cancel"}),r.a.createElement(P.a,{color:"green",inverted:!0,onClick:function(){return Z(!0),ee.patch(me.replace(":id",f.id),{}).then((function(e){Ae(e),setTimeout((function(){return te(f.id)}),3e3)})).catch((function(e){Z(!1);var t=Ae(e.response);setTimeout((function(){U(t)}),3e3)})),void s(!1)},content:"Confirm"}))))},ct=a(54),lt=a.n(ct),it=a(90);var ot=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),c=Object(h.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(null),u=Object(h.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(0),f=Object(h.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(!0),v=Object(h.a)(b,2),j=v[0],C=v[1],z=Object(n.useState)(null),T=Object(h.a)(z,2),I=T[0],w=T[1],_=Object(n.useState)([]),R=Object(h.a)(_,2),q=R[0],D=R[1],A=Object(n.useState)([]),N=Object(h.a)(A,2),Y=N[0],J=N[1],K=Object(n.useState)(null),W=Object(h.a)(K,2),Q=W[0],G=W[1],U=Object(n.useState)(!1),V=Object(h.a)(U,2),$=V[0],X=V[1],Z=Object(n.useState)(""),ee=Object(h.a)(Z,2),ne=ee[0],re=ee[1],ce=Object(n.useState)([]),le=Object(h.a)(ce,2),ie=le[0],oe=le[1],ue=Object(n.useState)(null),se=Object(h.a)(ue,2),me=se[0],de=se[1],fe=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});Object(n.useEffect)((function(){return void 0!=e.match.params.id&&G(e.match.params.id),pe.observe(t.current),function(){pe.disconnect()}}),[]);var he={root:document.querySelector("#material"),rootMargin:"5px",threshold:1},pe=new IntersectionObserver((function(e){var t=e[0].intersectionRatio;m(t)}),he);function Ee(e,t,a){var n=e;n+=n?"&":"?",n+="state=available&page=".concat(t),fe.get(te+n).then(function(){var t=Object(it.a)(lt.a.mark((function t(n){var r,c;return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.data.materials,0!=n.length||0!=a.length){t.next=5;break}return i(!1),C(!1),t.abrupt("return",Object(y.toast)({type:"warning",title:"Something went wrong",time:2e3,size:"mini",description:"There are no results for the specified parameters"}));case 5:return 0===r.length&&C(!1),(c=a).push.apply(c,Object(M.a)(r)),t.next=10,D(c);case 10:i(!1),w(e);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){var t=Ae(e.response);setTimeout((function(){de(t)}),3e3)}))}function be(){return(be=Object(it.a)(lt.a.mark((function t(){var a,n,r,c;return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Y.filter((function(e){return void 0!=q.find((function(t){return t.id==e.id}))})),!((n=Y.filter((function(e){return void 0==q.find((function(t){return t.id==e.id}))}))).length>0)){t.next=9;break}return r="?material=",n.map((function(e,t){r+=e.id,t+1!=n.length&&(r+=",")})),t.next=7,fe.get(te+r);case 7:t.sent.data.materials.map((function(e){e.can_be_reported&&a.push(e)}));case 9:if(0!==a.length){t.next=11;break}return t.abrupt("return",Object(y.toast)({type:"warning",title:"Missing Information",size:"mini",time:2e3,description:"Select at least one material"}));case 11:c=null==Q?"new_material":"".concat(Q,"_material"),localStorage.setItem(c,JSON.stringify(a)),null===Q?e.history.push("/auth/staff/newrequest/material/checkout"):e.history.push("/auth/staff/request/".concat(Q,"/material/checkout"));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ge(e){oe(Object(x.a)(Object(x.a)({},ie),{},Object(tt.a)({},e,!ie[e])))}function ve(){X(!1),re(null)}function ye(e){ge(e),je(e)}function je(e){if(void 0!=Y.find((function(t){return t.id==e})))J(Y.filter((function(t){return t.id!=e})));else{var t=q.find((function(t){return t.id==e}));void 0!=t&&(Y.push(t),J(Y))}}return Object(n.useEffect)((function(){if(s>=0&&j&&null!=I&&!l){var e=p+1;E(e),i(!0),Ee(I,e,q)}}),[s]),Object(n.useEffect)((function(){if(q.length>0&&0==ie.length){var e=null==Q?JSON.parse(localStorage.getItem("new_material")):JSON.parse(localStorage.getItem("".concat(Q,"_material")));null!=e&&(oe(e.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(tt.a)({},t.id,!0))}),[])),J(e))}}),[q,Q]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),me||r.a.createElement("div",null,r.a.createElement(g.a,null,"Material:"),r.a.createElement(P.a,{size:"medium",onClick:function(){return be.apply(this,arguments)},icon:"add",content:"Add Material to Request"}),r.a.createElement(P.a,{size:"medium",onClick:function(){X(!0)},icon:"qrcode",content:"Read QR Code"}),r.a.createElement(Ne,Object.assign({},e,{setFilters:function(e){e||(e=""),E(1),D([]),C(!0),i(!0),Ee(e,1,[])}})),r.a.createElement(O.a,null),r.a.createElement(Ke.a,{open:$,basic:!0,dimmer:"blurring",onClose:ve,size:"small"},r.a.createElement(Ke.a.Content,null,r.a.createElement(Qe.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){e&&re(e)},style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"60%"}}),r.a.createElement(Ke.a.Header,{style:{textAlign:"center"}},ne)),r.a.createElement(Ke.a.Actions,null,r.a.createElement(F.a,{fluid:!0},r.a.createElement(P.a,{basic:!0,color:"green",onClick:function(){if(null!=ne){ve();var e=ne;fe.get(ae.replace(":id",e)).then((function(e){if("available"!==e.data.state)return Object(y.toast)({type:"error",title:"Can\xb4t select the material specified",description:"The Qr Code scanned doesn\xb4t belong to a material, or the material is not available",time:3e3,size:"mini"});ge(ne),je(ne)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){de(t)}),3e3)})),re(null)}},content:"Confirm",inverted:!0}),r.a.createElement(P.a,{basic:!0,color:"red",onClick:ve,content:"Cancel",inverted:!0})))),r.a.createElement("div",null,r.a.createElement(L.a,{columns:3,id:"material",style:{height:30,margin:6,padding:8}},0!=q.length||l?q.map((function(e){return r.a.createElement(L.a.Column,{key:e.id},r.a.createElement(H.a,{centered:!0,key:e.id},r.a.createElement(H.a.Header,null,e.name),r.a.createElement(H.a.Description,null,e.id),r.a.createElement(H.a.Content,{extra:!0},!0===ie[e.id]?r.a.createElement(P.a,{fluid:!0,color:"green",onClick:function(){return ye(e.id)}}," Selected! "):r.a.createElement(P.a,{fluid:!0,onClick:function(){return ye(e.id)}}," Select "))))})):r.a.createElement(S.a,null,"There are no results"),r.a.createElement("div",{ref:t}),l?r.a.createElement(L.a.Column,null,r.a.createElement(S.a,{size:"small"},r.a.createElement(k.a,{name:"circle notch",loading:!0}),"Loading...")):null))))},ut=a(455),st=a.n(ut);var mt=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)("ID"),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)("Name"),b=Object(h.a)(E,2),j=b[0],C=b[1],z=Object(n.useState)(st.a),T=Object(h.a)(z,2),I=T[0],w=T[1],_=Object(n.useState)(null),x=Object(h.a)(_,2),R=x[0],q=x[1],D=Object(n.useState)(!1),A=Object(h.a)(D,2),M=A[0],N=A[1],L=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var t=e.match.params.id;void 0!=t&&L.get(me.replace(":id",t)).then((function(e){s(t),p(e.data.user_id),C(e.data.user_name),w("data:image/jpeg;base64,".concat(e.data.user_photo))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){q(t)}),3e3)}));var a=void 0==t?"new_material":"".concat(t,"_material"),n=JSON.parse(localStorage.getItem(a));null==n&&(Object(y.toast)({type:"error",title:"Something Went Wrong",time:2e3,size:"mini",description:"Please select the material again!"}),setTimeout((function(){return e.history.push(e.location.pathname.replace("/checkout",""))}),3e3)),l(n)}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),R||(0==c.length?r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0})):r.a.createElement("div",null,r.a.createElement(g.a,null,"Finalize Request"),r.a.createElement(O.a,null),r.a.createElement("div",{style:{display:"block"}},e.newRequest?r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(Xe.a,{size:"mini",id:"searchprofile",style:{float:"left"},icon:"users",iconPosition:"left",placeholder:"Introduce user number..."}),r.a.createElement(P.a,{size:"large",basic:!0,onClick:function(){var e=document.getElementById("searchprofile").value;L.get(ce.replace(":id",e)).then((function(t){L.get(re.replace(":id",e)).then((function(e){if(void 0===e.data.roles.find((function(e){return"student"===e.name})))return Object(y.toast)({type:"warning",title:"Wrong Information",description:"Insert a student number",time:2e3,size:"mini"});C(t.data.name),p(t.data.id),w("data:image/jpeg;base64,".concat(t.data.photo))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){q(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){q(t)}),3e3)}))},style:{float:"left"},icon:"search",content:"Search"})):null,r.a.createElement(H.a,{centered:!0},r.a.createElement(v.a,{src:I}),r.a.createElement(H.a.Content,null,r.a.createElement(Le.a.Header,null,j),r.a.createElement(H.a.Meta,null,f))),r.a.createElement(O.a,null),r.a.createElement(P.a,{id:"submit",size:"large",style:{display:"inline-block",float:"right"},disabled:M,onClick:function(){var t=void 0==u?"new_material":"".concat(u,"_material");if("ID"!=f){var a=function(){var e=!1,t=c.reduce((function(t,a){if(0!=a.id.split("-")[0])t.push({material_id:a.id,quantity:"1"});else{var n=document.getElementById("".concat(a.id,"quantity")).value;if(""==n)return e=!0,Object(y.toast)({type:"warning",title:"Missing Information",time:2e3,size:"mini",description:"Insert a quantity for the material ".concat(a.name)}),t;parseInt(n)<parseInt("1")&&(n="1"),parseInt(n)>parseInt("10")?n="10":parseInt(n)>parseInt(a.available_quantity)&&(n=a.available_quantity),Object(y.toast)({type:"warning",title:"Quantity updated",time:2e3,size:"mini",description:"Quantity for material ".concat(a.name," is ").concat(n)}),t.push({material_id:a.id,quantity:n})}return t}),[]);return e&&(t=null),t}();if(null===a)return;N(!0),null==u?L.post(se,{materials_requested:a,user_id:f}).then((function(a){Ae(a),setTimeout((function(){localStorage.removeItem(t),e.history.push("/auth/staff/request")}),3e3)})).catch((function(e){N(!1);var t=Ae(e.response);setTimeout((function(){q(t)}),3e3)})):L.put(fe.replace(":id",u),{materials:a}).then((function(a){Ae(a),setTimeout((function(){localStorage.removeItem(t),e.history.push("/auth/staff/request/".concat(u))}),3e3)})).catch((function(e){N(!1);var t=Ae(e.response);setTimeout((function(){q(t)}),3e3)}))}else Object(y.toast)({type:"warning",title:"Missing Information",description:"Insert a student number to associate with the request",time:2e3,size:"mini"})},icon:"edit alternate",content:"Request"}),r.a.createElement("div",{style:{display:"block",marginTop:"5%"}},r.a.createElement(g.a,{size:"medium"},"Material:"),r.a.createElement(Le.a,{size:"large",divided:!0,style:{marginBottom:"5%"}},c.map((function(e){return 0==e.id.split("-")[0]?r.a.createElement(Le.a.Item,{key:e.id},r.a.createElement(Le.a.Content,{floated:"left"},r.a.createElement(Le.a.Header,null,e.name)),r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(Le.a.Description,null,"Quantity:",r.a.createElement(Xe.a,{id:"".concat(e.id,"quantity"),type:"number",required:!0,min:"1",max:e.available_quantity>"10"?"10":e.available_quantity})))):r.a.createElement(Le.a.Item,{key:e.id},r.a.createElement(Le.a.Content,{floated:"left"},r.a.createElement(Le.a.Header,null,e.name)))}))))))))},dt=a(305),ft=a(807);var ht=function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(null),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)(!1),b=Object(h.a)(E,2),v=b[0],j=b[1],S=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userinfo")).id;p(t);var a=e.match.params.id;0==a.split("-")[0]&&(j(!0),e.history.push(e.location.pathname.replace("/report",""))),S.get(ae.replace(":id",a)).then(function(){var t=Object(it.a)(lt.a.mark((function t(n){return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"available"===n.data.state?s(a):e.history.push(e.location.pathname.replace("/report",""));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Ae(e.response.status)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),r.a.createElement(g.a,{size:"medium"},"Report Damage: "),r.a.createElement(O.a,null),r.a.createElement(H.a,{fluid:!0},r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,u),r.a.createElement(H.a.Description,null,r.a.createElement(g.a,{attached:"top",color:"red"},"Report Description"),r.a.createElement(dt.a,null,r.a.createElement(Ve.a,null,r.a.createElement(ft.a,{required:!0,onChange:function(e,t){return l(t.value)},rows:"2",maxLength:"200"}))))),r.a.createElement(F.a,{fluid:!0},r.a.createElement(P.a,{basic:!0,id:"confirm",color:"green",onClick:function(){if(""==c||0==c.trimLeft().length)return Object(y.toast)({type:"warning",title:"Missing Information",description:"Insert a damage description",time:2e3,size:"mini"});j(!0),S.post(ge.replace(":id",u),{description:c,user:f}).then((function(t){Ae(t),setTimeout((function(){e.history.push(e.location.pathname.replace("/report",""))}),3e3)})).catch((function(e){j(!1),Ae(e.response)}))},disabled:v,content:"Confirm"}),r.a.createElement(P.a,{basic:!0,color:"red",onClick:function(){e.history.push(e.location.pathname.replace("/report",""))},content:"Cancel"})),r.a.createElement(H.a.Content,{extra:!0})))},pt=function(e){return r.a.createElement("select",{value:e.value,onChange:function(t){e.changeOption(t.target.value)}},e.defaultValue?r.a.createElement("option",{value:"all",key:"all"},e.defaultValue):null,e.values.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))};var Et=function(e){var t=Object(n.useRef)(),a=Object(n.useState)([]),c=Object(h.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(null),u=Object(h.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(null),f=Object(h.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)([]),j=Object(h.a)(b,2),C=j[0],z=j[1],T=Object(n.useState)("collapse"),I=Object(h.a)(T,2),w=I[0],_=I[1],x=Object(n.useState)(!1),R=Object(h.a)(x,2),q=R[0],D=R[1],A=Object(n.useState)(null),N=Object(h.a)(A,2),F=N[0],Y=N[1],J=Object(n.useState)(0),K=Object(h.a)(J,2),W=K[0],Q=K[1],G=Object(n.useState)(!0),U=Object(h.a)(G,2),V=U[0],$=U[1],X=Object(n.useState)(null),Z=Object(h.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(!1),re=Object(h.a)(ae,2),ce=re[0],ie=re[1],oe=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});Object(n.useEffect)((function(){if(E(""),m(""),e.location&&e.location.search){var a=new URLSearchParams(e.location.search).entries(),n=a.next();do{var r=n.value[0];"role"===r&&m(n.value[1]),"id"===r&&(E(n.value[1]),document.getElementById("searchProfile").value=n.value[1]),n=a.next()}while(!n.done);_("visible")}return oe.get(ne).then((function(e){z(e.data.roles.filter((function(e){return"student"!==e&&"staff"!==e})))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){te(t)}),3e3)})),se.observe(t.current),function(){se.disconnect()}}),[]);var ue={root:document.querySelector("#users"),rootMargin:"5px",threshold:1},se=new IntersectionObserver((function(e){var t=e[0].intersectionRatio;Y(t)}),ue);function me(t,a,n,r){if("student"==a||"A"===t.slice(0,1))return D(!1),Object(y.toast)({title:"Invalid Parameter",type:"error",size:"mini",time:2e3,description:"Insert a diferent role or a diferent user"});var c=function(e,t){var a="?";""!=e&&(a+="id=".concat(e));""!=t&&(a.length>1&&(a+="&"),a+="role=".concat(t));"?"===a&&(a="");return a}(t,a),l=c;""==l&&(l+="?role=administrator,teacher,lab_responsible,technician"),l+="&page=".concat(n),oe.get(le+l).then((function(t){var a=t.data.users;if(0===r.length&&0===a.length)return i(a),$(!1),D(!1),Object(y.toast)({type:"warning",title:"Something Went Wrong",time:2e3,size:"mini",description:"There are no results for the specified parameters"});0===a.length&&$(!1);var n=r;n.push.apply(n,Object(M.a)(a)),i(n),D(!1),""!=c&&e.history.push({pathname:e.location.pathname,search:c})})).catch((function(e){var t=Ae(e.response);setTimeout((function(){te(t)}),3e3)}))}function de(){return""!=s?s:"all"}return Object(n.useEffect)((function(){if(F>=0&&V&&!q&&!ce&&(null!=p||null!=s)){var e=W+1;Q(e),D(!0),me(p,s,e,l)}}),[F,p,s]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),ee||r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Users:"),r.a.createElement(Xe.a,{size:"mini",style:{float:"right"},icon:"users",id:"searchProfile",onChange:function(e,t){ie(!0),E(t.value)},iconPosition:"left",placeholder:"Introduce user number..."}),r.a.createElement("div",{style:{display:"block",float:"left",marginTop:"1%"}},"Filter by Role:",r.a.createElement(pt,{values:C,value:de(),changeOption:function(e){"all"!=e&&(m(e),ie(!0))},defaultValue:"all"==de()?"All":null})),r.a.createElement("div",{style:{display:"block",marginLeft:"6%"}},r.a.createElement(P.a,{size:"large",basic:!0,onClick:function(){if(""!=p||""!=s){ie(!1),Q(1),$(!0),D(!0),_("visible"),me(p,s,1,[])}},icon:"search",content:"Search"}),r.a.createElement(P.a,{size:"large",id:"reset_filter",basic:!0,onClick:function(t){t.preventDefault(),D(!0),Q(1),E(""),m(""),$(!0),me("","",1,[]),_("hidden"),e.history.push(e.location.pathname),document.getElementById("searchProfile").value=""},style:{visibility:w,marginLeft:"1%",marginTop:"0.5%"},content:"Reset"})),r.a.createElement(O.a,null),r.a.createElement(L.a,{columns:6,id:"users",style:{height:30,margin:6,padding:8}},0!=l.length||q?l.map((function(t){return r.a.createElement(L.a.Column,{key:t.id},r.a.createElement(H.a,{centered:!0},r.a.createElement(v.a,{src:"data:image/jpeg;base64,".concat(t.photo),wrapped:!0,ui:!1}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,t.user_name),r.a.createElement(H.a.Description,null,t.id)),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement(P.a,{fluid:!0,content:"Change Roles",icon:"address card",onClick:function(){return a=t.id,void e.history.push("/auth/admin/usersroles/".concat(a));var a}}))))})):r.a.createElement(S.a,null,"There are no results"),r.a.createElement("div",{ref:t}),q?r.a.createElement(L.a.Column,null,r.a.createElement(S.a,{size:"small"},r.a.createElement(k.a,{name:"circle notch",loading:!0}),"Loading...")):null)))};var bt=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({}),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)("all"),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)("all"),b=Object(h.a)(E,2),g=b[0],j=b[1],O=Object(n.useState)([]),C=Object(h.a)(O,2),z=C[0],T=C[1],I=Object(n.useState)(null),w=Object(h.a)(I,2),_=w[0],R=w[1],q=Object(n.useState)(!1),D=Object(h.a)(q,2),A=D[0],M=D[1],N=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function L(e){"all"!=e&&p(e)}function F(e){!function(e){T(Object(x.a)(Object(x.a)({},z),{},Object(tt.a)({},e,!z[e])))}(e.target.name)}return JSON.parse(localStorage.getItem("userinfo")),Object(n.useEffect)((function(){var t=e.match.params.id;N.get(W).then((function(a){N.get(re.replace(":id",t)).then((function(n){if(void 0!=n.data.roles.find((function(e){return"student"==e.name||"staff"==e.name})))Object(y.toast)({type:"error",time:2e3,size:"mini",title:"Invalid Parameter",description:"It is not permited change either student or staff role"}),setTimeout((function(){e.history.push(e.location.pathname.replace("/".concat(t),""))}),3e3);else{var r=a.data.sci_areas;r.shift(),j(r),N.get(ne).then((function(e){N.get(ce.replace(":id",t)).then((function(t){s(t.data);var a=n.data.roles,c=function(e,t,a){var n=t.find((function(e){return"lab_responsible"==e.name}));void 0!=n&&p(a.find((function(e){return e.id===n.sci_area_id})).name);return e.map((function(e){var a=!1;return t.find((function(t){return t.name===e}))&&(a=!0),{name:e,selected:a}}))}(e.data.roles.filter((function(e){return"student"!=e&&"staff"!=e})),a,r);l(c),T(c.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(tt.a)({},t.name,t.selected))}),[]))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){R(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){R(t)}),3e3)}))}})).catch((function(e){var t=Ae(e.response);setTimeout((function(){R(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){R(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),_||(0==c.length?r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0})):r.a.createElement("div",null,r.a.createElement(H.a,{style:{float:"right"}},r.a.createElement(v.a,{src:"data:image/jpeg;base64,".concat(u.photo),wrapped:!0,ui:!1}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,u.name),r.a.createElement(H.a.Meta,null,u.id))),r.a.createElement("div",{style:{display:"inline-block"}},c.map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement(nt,{name:e.name,label:e.name,isSelected:z[e.name],onCheckboxChange:F,key:e.name}),"lab_responsible"===e.name?r.a.createElement("div",null,r.a.createElement(pt,{values:g.map((function(e){return e.name})),value:f,changeOption:L,defaultValue:"all"==f?"Scientific Area":null})):null)}))),r.a.createElement(P.a,{floated:"right",id:"confirm",color:"green",icon:"check",disabled:A,onClick:function(){var t,a=Object.keys(z).filter((function(e){return z[e]})).map((function(e){return{role:e}}));if((t=a.findIndex((function(e){return"lab_responsible"===e.role})))>=0){if("all"===f)return Object(y.toast)({type:"warning",title:"Missing Information",description:"Select Scientific Area to associate with the responsible",time:2e3,size:"mini"});a[t]={role:"lab_responsible",sci_area:f}}M(!0),N.put(re.replace(":id",u.id),{roles:a}).then((function(t){Ae(t),setTimeout((function(){return e.history.push(e.location.pathname.replace("/".concat(u.id),""))}),3e3)})).catch((function(e){M(!1);var t=Ae(e.response);setTimeout((function(){R(t)}),3e3)}))},content:"Confirm"}))))};var gt=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(h.a)(l,2),u=o[0],s=o[1],m=Object(n.useState)(null),d=Object(h.a)(m,2),f=d[0],p=d[1],E=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function b(){E.get(W).then((function(e){c(e.data.sci_areas.filter((function(e){return 0!=e.id})))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){p(t)}),3e3)}))}return Object(n.useEffect)((function(){b()}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),f||r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Scientific Areas:"),r.a.createElement(Xe.a,{id:"addarea",type:"text",onChange:function(e,t){var a;""!=(a=t.value)&&0!=a.trimLeft().length&&s(a)},action:r.a.createElement(P.a,{onClick:function(){var e=document.getElementById("addarea");""!=e.value&&""!=u&&E.post(W,{name:u}).then((function(t){Ae(t),e.value="",setTimeout((function(){return b()}),3e3)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){p(t)}),3e3)}))}},"Add"),placeholder:"Scientific Area..."}),r.a.createElement(O.a,null),r.a.createElement(Le.a,{divided:!0},a.map((function(e){var t="/auth/admin/areas/".concat(e.id,"/course");return r.a.createElement(Le.a.Item,{key:e.id},r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(P.a,{size:"big",id:"delete"+e.id,compact:!0,onClick:function(){return function(e){var t=document.getElementById("delete".concat(e));t.disabled=!0,E.delete(Q.replace(":id",e)).then((function(e){Ae(e),setTimeout((function(){return b()}),200)})).catch((function(e){t.disabled=!1;var a=Ae(e.response);setTimeout((function(){p(a)}),3e3)}))}(e.id)},icon:"red close"})),r.a.createElement(Le.a.Content,null,r.a.createElement(i.b,{to:t}," ",e.name)))})))))};var vt=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)([]),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)([]),b=Object(h.a)(E,2),v=b[0],j=b[1],S=Object(n.useState)([]),k=Object(h.a)(S,2),C=k[0],z=k[1],T=Object(n.useState)([]),I=Object(h.a)(T,2),w=I[0],_=I[1],R=Object(n.useState)([]),q=Object(h.a)(R,2),D=q[0],A=q[1],N=Object(n.useState)(null),F=Object(h.a)(N,2),J=F[0],K=F[1],V=Object(n.useState)("collapse"),X=Object(h.a)(V,2),Z=X[0],ee=X[1],te=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),ae={display:"inline-block",margin:10,marginBottom:30};function ne(e){var t=e[e.length-1],a=f.find((function(e){return"sci_area"==e.type})),n=f.find((function(e){return"subject"==e.type}));"sci_area"===t.type?function(e,t){te.get(Q.replace(":id",e.id)).then((function(e){var a=e.data.subjects,n=e.data.types;void 0!=t&&(0==(a=re(a,[t])).length&&(a=[t]),n=re(n,w)),j(a),_(n)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){K(t)}),3e3)}))}(t,n):"subject"===t.type&&function(e,t){te.get(U.replace(":id",e.id)).then((function(e){var a=e.data.sci_area.id;void 0!=t&&(a=t.id),te.get(Q.replace(":id",a)).then((function(a){var n=[e.data.sci_area],r=re(e.data.types,a.data.types);void 0!=t&&0==(n=re(n,[t])).length&&(n=[t]),z(n),_(r)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){K(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){K(t)}),3e3)}))}(t,a)}function re(e,t){return e.filter((function(e){return void 0!=t.find((function(t){return t.id==e.id}))}))}function ce(e){te.get($).then((function(t){s(t.data.types.reduce((function(t,a){return Object(x.a)(Object(x.a)({},t),{},Object(tt.a)({},a.id,e.some((function(e,t,n){return e.id===a.id}))))}),[])),l(t.data.types)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){K(t)}),3e3)})),te.get(W).then((function(e){te.get(G).then((function(t){z(e.data.sci_areas),j(t.data.subjects),p([])})).catch((function(e){var t=Ae(e.response);setTimeout((function(){K(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){K(t)}),3e3)}))}function le(e){if("all"!=e.id){var t=f,a=t.findIndex((function(t){return t.type===e.type}));a>-1?t[a]=e:t.push(e),p(t),ne([e])}}function ie(e){var t=f.find((function(t){return t.type===e}));return void 0!=t?t.id:"all"}function oe(e){if(function(e){s(Object(x.a)(Object(x.a)({},u),{},Object(tt.a)({},e,!u[e])))}(e),void 0!=D.find((function(t){return t.id==e})))A(D.filter((function(t){return t.id!=e})));else{var t=c.find((function(t){return t.id==e})),a=D;a.push(t),A(a)}}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("reservation"));if(null==e)e=[];else{var t=D;t.push.apply(t,Object(M.a)(e)),A(t)}ce(e)}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),J||r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Material:"),r.a.createElement("div",{style:ae},r.a.createElement(Y,{changeFilter:le,name:"sci_area",title:"Scientific Area",types:C,value:ie("sci_area"),optionAll:"all"==ie("sci_area")})),r.a.createElement("div",{style:ae},r.a.createElement(Y,{changeFilter:le,name:"subject",title:"Subjects",types:v,value:ie("subject"),optionAll:"all"==ie("subject")})),r.a.createElement(P.a,{basic:!0,size:"small",onClick:function(e){e.preventDefault(),f.length>0&&(l(w),ee("visible"))},icon:"filter alternate",content:"Filter"}),r.a.createElement(P.a,{basic:!0,size:"small",id:"reset_filter",style:Object(x.a)(Object(x.a)({},ae),{},{visibility:Z}),onClick:function(t){t.preventDefault(),ee("hidden"),e.history.push(e.location.pathname),ce(D)},content:"Reset"}),r.a.createElement("div",null,r.a.createElement(P.a,{className:"ui medium labeled icon button",onClick:function(){var t=D;if(0===t.length)return Object(y.toast)({type:"warning",title:"Missing Information",time:2e3,size:"mini",description:"Select at least one material"});localStorage.setItem("reservation",JSON.stringify(t)),e.history.push({pathname:"/auth/teacher/newreservation/types/checkout"})},icon:"add",content:"Add Material to Reservation"})),r.a.createElement(O.a,null),r.a.createElement(L.a,{columns:4,style:{height:30,margin:6,padding:8}},c.map((function(e){return r.a.createElement(L.a.Column,{key:e.id},r.a.createElement(H.a,{centered:!0,key:e.id},r.a.createElement(H.a.Header,null,e.name),r.a.createElement(H.a.Description,null,e.id),r.a.createElement(H.a.Content,{extra:!0},!0===u[e.id]?r.a.createElement(P.a,{fluid:!0,color:"green",onClick:function(){return oe(e.id)}}," Selected! "):r.a.createElement(P.a,{fluid:!0,onClick:function(){return oe(e.id)}}," Select "))))})))))},yt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=t.name,r=t.value;n.state.hasOwnProperty(a)&&n.setState(Object(tt.a)({},a,r)),n.props.setDayTime&&n.props.setDayTime(r)},n.state={dateTime:""},n}return Object(u.a)(a,[{key:"currentTime",value:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear(),r=String(e.getHours()),c=String(e.getMinutes());return e=n+"-"+a+"-"+t+" "+r+":"+c}},{key:"render",value:function(){return r.a.createElement(Ve.a,null,r.a.createElement(Ue.DateTimeInput,{name:"dateTime",placeholder:"Day and Hour",dateTimeFormat:"YYYY-MM-DD HH:mm:SS",value:this.state.dateTime,iconPosition:"left",popupPosition:"top left",onChange:this.handleChange,minDate:this.currentTime()}))}}]),a}(n.Component),jt=["1:30:00","3:00:00","4:30:00"];var Ot=function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)([]),b=Object(h.a)(E,2),v=b[0],j=b[1],C=Object(n.useState)([]),z=Object(h.a)(C,2),T=z[0],I=z[1],w=Object(n.useState)(null),_=Object(h.a)(w,2),R=_[0],q=_[1],D=Object(n.useState)(""),A=Object(h.a)(D,2),M=A[0],N=A[1],L=Object(n.useState)(jt[0]),H=Object(h.a)(L,2),F=H[0],J=H[1],K=Object(n.useState)(null),W=Object(h.a)(K,2),Q=W[0],U=W[1],V=Object(n.useState)(!1),$=Object(h.a)(V,2),X=$[0],Z=$[1],ee=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function te(){return null===R?"all":R.id}return Object(n.useEffect)((function(){s(JSON.parse(localStorage.getItem("userinfo"))),ee.get(G).then((function(e){I(e.data.subjects)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){U(t)}),3e3)}));var t=JSON.parse(localStorage.getItem("reservation"));null===t?(Object(y.toast)({type:"error",title:"Something Went Wrong",time:2e3,size:"mini",description:"Please select the material again!"}),setTimeout((function(){e.history.push(e.location.pathname.replace("checkout",""))}),3e3)):j(t)}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),Q||(0==v.length?r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0})):r.a.createElement("div",null,r.a.createElement(g.a,null,"Finalize Reservation"),r.a.createElement(O.a,null),e.newReservation?r.a.createElement("div",null,"Groups Quantity:",r.a.createElement(Xe.a,{size:"small",onChange:function(e,t){return a=t.value,parseInt(a)<parseInt("1")&&(a="1"),parseInt(a)>parseInt("15")&&(a="15"),void N(a);var a},type:"number",required:!0,min:"1",max:"15",style:{textAlign:"center",width:"15%",marginRight:"15%"}}),"Select a Subject:",r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(Y,{changeFilter:function(e){"all"!=e.id&&q(e)},name:"subject",types:T,value:te(),optionAll:"all"==te()})),r.a.createElement("div",{style:{display:"inline-block",marginLeft:"15%"}},"Select duration:",r.a.createElement(pt,{values:jt,value:F,changeOption:function(e){return J(e)}})),r.a.createElement(g.a,{size:"small",style:{marginTop:"5%"}},"Select a Date and Hour:"),r.a.createElement(yt,{setDayTime:function(e){var t=e.split(" "),a=Object(h.a)(t,2),n=a[0],r=a[1];l(n),p(r)}})):null,r.a.createElement(O.a,null),r.a.createElement(P.a,{id:"reservation",size:"large",disabled:X,style:{display:"inline-block",float:"right"},onClick:function(){var t=""===c?(Object(y.toast)({type:"warning",title:"Missing Information",time:2e3,size:"mini",description:"Insert a date"}),!1):""===f?(Object(y.toast)({type:"warning",title:"Missing Information",time:2e3,size:"mini",description:"Insert an hour"}),!1):null===R?(Object(y.toast)({type:"warning",title:"Missing Information",time:2e3,size:"mini",description:"Insert a subject"}),!1):""!==M||(Object(y.toast)({type:"warning",title:"Missing Information",time:2e3,size:"mini",description:"Insert number of groups"}),!1),a=!0,n=v.map((function(e){return void 0===e.quantity?(a=!1,Object(y.toast)({type:"warning",title:"Missing Information",time:2e3,size:"mini",description:"Insert a quantity for the material ".concat(e.name)})):{type:e.id,quantity:e.quantity}}));a&&t&&(Z(!0),ee.post(Ee,{user_id:u.id,subject:R.id,date:"".concat(c," ").concat(f),groups:M,materials:n,duration:F}).then((function(t){Ae(t),setTimeout((function(){localStorage.removeItem("reservation"),e.history.push("/auth/teacher/reservation")}),3e3)})).catch((function(e){Z(!1);var t=Ae(e.response);setTimeout((function(){U(t)}),3e3)})))},icon:"edit alternate",content:"Reserve"}),r.a.createElement("div",{style:{display:"block",marginTop:"5%"}},r.a.createElement(g.a,{size:"medium"},"Material:"),r.a.createElement(Le.a,{size:"large",divided:!0},v.map((function(e){return r.a.createElement(Le.a.Item,{key:e.id},r.a.createElement(Le.a.Content,{floated:"left"},r.a.createElement(Le.a.Header,null,e.name)),r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(Le.a.Description,null,"Quantity per Group:",r.a.createElement(Xe.a,{size:"small",onChange:function(t,a){return function(e,t){parseInt(t)<parseInt("1")&&(t="1"),parseInt(t)>parseInt("10")&&(t="10");var a=v,n=a.findIndex((function(t){return t.id===e.id}));a[n]=Object(x.a)(Object(x.a)({},a[n]),{},{quantity:t}),j(a)}(e,a.value)},type:"number",style:{textAlign:"center"},required:!0,min:"1",max:"10"}))))})))))))};var St=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userinfo")).id;m.get(pe.replace(":id",e)).then((function(e){l(e.data.reservations)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),u||r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Reservations"),r.a.createElement(P.a,{basic:!0,size:"large",onClick:function(){e.history.push("/auth/teacher/newreservation/types")},icon:"file alternate",content:"New Reservation"}),r.a.createElement("div",{style:{display:"block"}},r.a.createElement(O.a,null),r.a.createElement(Le.a,{selection:!0},0===c.length?r.a.createElement(g.a,null,"There is no Active Reservations"):c.map((function(t){return r.a.createElement(Le.a.Item,{key:t.id,onClick:function(){return a=t.id,void e.history.push(e.location.pathname+"/".concat(a));var a}},r.a.createElement(Le.a.Content,null,r.a.createElement(Le.a.Header,null,t.id),r.a.createElement(Le.a.Description,null,t.subject," | ",t.date," | ",t.hour," "),r.a.createElement(Le.a.Description,null," Duration ",t.duration," ")))}))))))};var kt=function(e){var t=Object(n.useState)({materials:[]}),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(h.a)(m,2),f=d[0],p=d[1],E=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var t=e.match.params.id;E.get(be.replace(":id",t)).then((function(e){l(Object(x.a)(Object(x.a)({},e.data),{},{id:t}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),u||(c.id?r.a.createElement("div",null,r.a.createElement(H.a,{style:{float:"right"}},r.a.createElement(v.a,{src:"data:image/jpeg;base64,".concat(c.user_photo),wrapped:!0,ui:!1}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,c.user_name),r.a.createElement(H.a.Meta,null,c.user_id)),r.a.createElement(H.a.Content,{extra:!0},c.subject," | ",c.date," | ",c.hour,r.a.createElement("div",null,"Duration: ",c.duration),r.a.createElement(O.a,null),r.a.createElement(g.a,{size:"small"},"Groups: ",c.nr_groups," "))),r.a.createElement(P.a,{id:"delete",disabled:f,floated:"right",color:"red",onClick:function(){p(!0),E.delete(be.replace(":id",c.id)).then((function(t){Ae(t),setTimeout((function(){return e.history.push(e.location.pathname.replace("/".concat(c.id),""))}),3e3)})).catch((function(e){p(!1);var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)}))},content:"Delete Reservation",icon:"delete"}),r.a.createElement(g.a,{style:{marginLeft:"13%"}},"Material: "),r.a.createElement(O.a,null),r.a.createElement("div",{style:{display:"inline-block"}},c.materials.map((function(e){return r.a.createElement(g.a,{size:"small",key:e.type},e.type_name+" | "+e.type_id+" | Quantity: "+e.quantity)})))):r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0}))))};var Ct=function(e){return r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),r.a.createElement(g.a,{size:"medium",id:"title"},e.title),r.a.createElement(O.a,null),0!==e.material.length||e.moreData?r.a.createElement(L.a,{columns:4,style:{height:30,margin:6,padding:8}},e.material.map((function(t){return r.a.createElement(L.a.Column,null,r.a.createElement(H.a,{centered:!0},r.a.createElement(H.a.Header,null," ",t.material," "),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement(P.a,{fluid:!0,content:"See Report",icon:"bug",onClick:function(){return e.history.push(e.location.pathname+"/"+t.id)}}))))}))):r.a.createElement(g.a,{size:"small"},"There is no Damages Reported"))};var zt=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),c=Object(h.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(null),u=Object(h.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(0),f=Object(h.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(!0),g=Object(h.a)(b,2),v=g[0],j=g[1],O=Object(n.useState)(null),C=Object(h.a)(O,2),z=C[0],T=C[1],I=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),w=Object(n.useState)([]),_=Object(h.a)(w,2),x=_[0],R=_[1];Object(n.useEffect)((function(){return D.observe(t.current),function(){D.disconnect()}}),[]),Object(n.useEffect)((function(){if(s>=0&&v&&!l){var e=p+1;E(e),i(!0),t=e,a=x,I.get(ie.replace(":flag","false")+"&page=".concat(t)).then((function(e){var t=e.data.damages;0===t.length&&j(!1);var n=a;n.push.apply(n,Object(M.a)(t)),R(n),i(!1)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){T(t)}),3e3)}))}var t,a}),[s]);var q={root:document.querySelector("#damages"),rootMargin:"5px",threshold:1},D=new IntersectionObserver((function(e){var t=e[0].intersectionRatio;m(t)}),q);return r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),z||r.a.createElement("div",null,r.a.createElement(Ct,Object.assign({title:"Damage Reports:",material:x,moreData:v},e)),r.a.createElement("div",{id:"damages"},r.a.createElement("div",{ref:t}),l?r.a.createElement(S.a,{size:"small"},r.a.createElement(k.a,{name:"circle notch",loading:!0}),"Loading..."):null)))},Tt=a(241),It=[{title:"Material Id",value:"material_id"},{title:"Name",value:"material_name"},{title:"Request Id",value:"request"},{title:"User",value:"user"},{title:"Date",value:"start_date"}];var wt=function(e){return r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Material Details"),function(){var t=e.material_report.state,a="red";return e.history&&"solved"===e.material_report.state&&(a="green"),r.a.createElement(He.a,{size:"huge",color:a},"State:",r.a.createElement(He.a.Detail,null,t))}(),r.a.createElement(O.a,null),e.history?null:r.a.createElement("div",{style:{display:"block"}},"Change Report State:",r.a.createElement(pt,{values:e.material_report.states,value:e.material_report.state,changeOption:e.changeState})),r.a.createElement(Le.a,{divided:!0},It.map((function(t){return void 0===e.material_report[t.value]?null:r.a.createElement(Le.a.Item,{key:t.title},r.a.createElement(Le.a.Content,{floated:"left"},r.a.createElement(Le.a.Header,null,t.title)),r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(Le.a.Description,null,e.material_report[t.value])))}))),r.a.createElement(Tt.a,null,r.a.createElement(H.a,{fluid:!0},r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,"Report Description"),r.a.createElement(H.a.Description,null,r.a.createElement(O.a,null),r.a.createElement(H.a.Header,{size:"small"},e.material_report.description)))),e.history?r.a.createElement(H.a,{fluid:!0},r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,"Solution Description"),r.a.createElement(H.a.Description,null,r.a.createElement(O.a,null),r.a.createElement(H.a.Header,{size:"small"},e.material_report.report)))):r.a.createElement(H.a,{fluid:!0},r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,"Solution Description"),r.a.createElement(H.a.Description,null,r.a.createElement(Ve.a,null,r.a.createElement(ft.a,{rows:"2",required:!0,maxLength:"200",onChange:function(t,a){return e.changeMaterialReport(Object(x.a)(Object(x.a)({},e.material_report),{},{report:a.value}))}})))),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement(F.a,{fluid:!0},r.a.createElement(P.a,{basic:!0,color:"green",id:"confirm",disabled:e.buttonState,onClick:e.onConfirm,content:"Confirm"}),r.a.createElement(P.a,{basic:!0,color:"red",onClick:e.onCancel,content:"Cancel"}))))))};var _t=function(e){var t=Object(n.useState)({states:[]}),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(h.a)(m,2),f=d[0],p=d[1],E=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var t=e.match.params.id;E.get(ue.replace(":id",t)).then((function(e){if("to_solve"!=e.data.state)return s(r.a.createElement(Re,null));E.get(oe).then((function(t){l(Object(x.a)(Object(x.a)({},e.data),{},{states:t.data.states}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),u||(c.id?r.a.createElement(wt,{changeState:function(e){"all"!==e&&l(Object(x.a)(Object(x.a)({},c),{},{state:e}))},material_report:c,changeMaterialReport:function(e){return l(e)},onConfirm:function(){return void 0===c.report?Object(y.toast)({type:"warning",title:"Missing Information",description:"Insert a solution description",time:2e3,size:"mini"}):"to_solve"===c.state?Object(y.toast)({type:"warning",title:"Missing Information",description:"Change the report state",time:2e3,size:"mini"}):(p(!0),void E.patch(ue.replace(":id",c.id),{state:c.state,report:c.report}).then((function(t){Ae(t),setTimeout((function(){return e.history.push("/auth/tech/damages")}),3e3)})).catch((function(e){p(!1);var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)})))},buttonState:f,onCancel:function(){e.history.push(e.location.pathname.replace("/".concat(c.id),""))}}):r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0}))))};var xt=function(e){var t=Object(n.useState)({}),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(h.a)(i,2),u=o[0],s=o[1],m=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var t=e.match.params.id;m.get(ue.replace(":id",t)).then((function(e){if("to_solve"==e.data.state)return s(r.a.createElement(Re,null));l(Object(x.a)({},e.data))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){s(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),u||(c.id?r.a.createElement(wt,{history:!0,material_report:c}):r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0}))))};var Rt=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),c=Object(h.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(null),u=Object(h.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(0),f=Object(h.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(!0),g=Object(h.a)(b,2),v=g[0],j=g[1],O=Object(n.useState)([]),C=Object(h.a)(O,2),z=C[0],T=C[1],I=Object(n.useState)(null),w=Object(h.a)(I,2),_=w[0],x=w[1],R=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});Object(n.useEffect)((function(){return D.observe(t.current),function(){D.disconnect()}}),[]),Object(n.useEffect)((function(){if(s>=0&&v&&!l){var e=p+1;E(e),i(!0),t=e,a=z,R.get(ie.replace(":flag","true")+"&page=".concat(t)).then((function(e){var t=e.data.damages;0===t.length&&j(!1);var n=a;n.push.apply(n,Object(M.a)(t)),T(n),i(!1)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){x(t)}),3e3)}))}var t,a}),[s]);var q={root:document.querySelector("#damages"),rootMargin:"5px",threshold:1},D=new IntersectionObserver((function(e){var t=e[0].intersectionRatio;m(t)}),q);return r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),_||r.a.createElement("div",null,r.a.createElement(Ct,Object.assign({title:"Damage Reports History:",material:z,moreData:v},e)),r.a.createElement("div",{id:"damages"},r.a.createElement("div",{ref:t}),l?r.a.createElement(S.a,{size:"small"},r.a.createElement(k.a,{name:"circle notch",loading:!0}),"Loading..."):null)))};var qt=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),c=Object(h.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(null),u=Object(h.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(0),f=Object(h.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(!0),v=Object(h.a)(b,2),j=v[0],C=v[1],z=Object(n.useState)(null),T=Object(h.a)(z,2),I=T[0],w=T[1],_=Object(n.useState)(!1),R=Object(h.a)(_,2),q=R[0],D=R[1],A=Object(n.useState)({}),N=Object(h.a)(A,2),F=N[0],Y=N[1],J=Object(n.useState)(null),K=Object(h.a)(J,2),W=K[0],Q=K[1],G=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),U=Object(n.useState)([]),V=Object(h.a)(U,2),$=V[0],X=V[1];Object(n.useEffect)((function(){return ee.observe(t.current),function(){ee.disconnect()}}),[]);var Z={root:document.querySelector("#material"),rootMargin:"5px",threshold:1},ee=new IntersectionObserver((function(e){var t=e[0].intersectionRatio;m(t)}),Z);function ne(e){e||(e="");E(1),X([]),C(!0),i(!0),re(e,1,[])}function re(e,t,a){var n=e;n+=n?"&":"?",n+="state=available&page=".concat(t),G.get(te+n).then((function(t){var n=t.data.materials;if(0==n.length&&0==a.length)return i(!1),C(!1),Object(y.toast)({type:"warning",title:"Something went wrong",time:2e3,size:"mini",description:"There are no results for the specified parameters"});0===n.length&&C(!1);var r=a;r.push.apply(r,Object(M.a)(n)),X(r),i(!1),w(e)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){Q(t)}),3e3)}))}function ce(t){var a=document.getElementById("delete"+t);a.disabled=!0;var n=document.getElementById("detail"+t);n.disabled=!0,G.delete(ae.replace(":id",t),{data:{quantity:void 0!=F.id?F.delete_quantity:1}}).then((function(t){Ae(t),setTimeout((function(){return ne(e.location.search)}),3e3)})).catch((function(e){a.disabled=!1,n.disabled=!1;var t=Ae(e.response);setTimeout((function(){Q(t)}),3e3)})),F.id&&Y({}),D(!1)}return Object(n.useEffect)((function(){if(s>=0&&j&&null!=I&&!l){var e=p+1;E(e),i(!0),re(I,e,$)}}),[s]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),W||r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Material:"),r.a.createElement(Ne,Object.assign({},e,{setFilters:ne,updateUrl:!0})),r.a.createElement("div",null,r.a.createElement(P.a,{icon:"add",content:"Add Material",onClick:function(){e.history.push("/auth/labmanager/addmaterial")}})),r.a.createElement(O.a,null),r.a.createElement(Ke.a,{size:"small",open:q,dimmer:"blurring"},r.a.createElement(g.a,{size:"huge",textAlign:"center"},"Remove Material"),r.a.createElement(Ke.a.Content,null,r.a.createElement(Ke.a.Description,null,r.a.createElement(g.a,{size:"large",textAlign:"center"},"Verify the quantity to remove"),r.a.createElement(O.a,null),r.a.createElement(g.a,{textAlign:"center"},F.name," | ",F.id),r.a.createElement(Xe.a,{type:"number",size:"small",required:!0,defaultValue:1,onChange:function(e,t){return a=t.value,n=F.available_quantity,parseInt(a)>parseInt(n)&&(a=n),parseInt(a)<parseInt("1")&&(a="1"),void Y(Object(x.a)(Object(x.a)({},F),{},{delete_quantity:a}));var a,n},min:"1",max:F.available_quantity,style:{width:"90%"}}))),r.a.createElement(Ke.a.Actions,null,r.a.createElement(P.a,{color:"red",onClick:function(){return ce(F.id)},content:"Remove"}),r.a.createElement(P.a,{onClick:function(){return D(!1)},content:"Cancel"}))),r.a.createElement("div",null,r.a.createElement(L.a,{columns:3,id:"material",style:{height:30,margin:6,padding:8}},0!=$.length||l?$.map((function(t){var a=r.a.createElement(P.a,{id:"delete"+t.id,compact:!0,onClick:function(){return ce(t.id)},icon:"remove",content:"Delete Material",color:"red"});return 0==t.id.split("-")[0]&&(a=r.a.createElement(P.a,{id:"delete"+t.id,compact:!0,onClick:function(){return function(e){Y(Object(x.a)(Object(x.a)({},e),{},{delete_quantity:1})),D(!0)}(t)},icon:"remove",content:"Delete Material",color:"red"})),r.a.createElement(L.a.Column,null,r.a.createElement(H.a,{centered:!0},r.a.createElement(H.a.Header,null,t.name),r.a.createElement(H.a.Description,null,t.id),r.a.createElement(H.a.Content,{extra:!0,floated:"right"},r.a.createElement(P.a.Group,{fluid:!0},r.a.createElement(P.a,{id:"detail"+t.id,content:"Details",icon:"microchip",onClick:function(){return e.history.push(e.location.pathname+"/"+t.id)}}),a))))})):r.a.createElement(S.a,null,"There are no results"),r.a.createElement("div",{ref:t}),l?r.a.createElement(L.a.Column,null,r.a.createElement(S.a,{size:"small"},r.a.createElement(k.a,{name:"circle notch",loading:!0}),"Loading...")):null))))};var Dt=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(""),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)(""),b=Object(h.a)(E,2),v=b[0],j=b[1],O=Object(n.useState)(1),S=Object(h.a)(O,2),k=S[0],C=S[1],z=Object(n.useState)(null),T=Object(h.a)(z,2),I=T[0],w=T[1],_=Object(n.useState)(!1),x=Object(h.a)(_,2),R=x[0],q=x[1],D=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userinfo")).roles.find((function(e){return"lab_responsible"===e.name}));D.get(Q.replace(":id",e.sci_area_id)).then((function(t){D.get(W).then((function(a){var n=a.data.sci_areas.find((function(t){return t.id===e.sci_area_id})),r=a.data.sci_areas.find((function(e){return 0===e.id}));j({id:n.id}),s([n,r]),l(t.data.types),p(t.data.types[0])})).catch((function(e){var t=Ae(e.response);setTimeout((function(){w(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){w(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),I||r.a.createElement(H.a,{fluid:!0},r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,"Add Material"),r.a.createElement(H.a.Meta,{style:{marginTop:"2%"}},r.a.createElement(H.a.Header,null,"Scientific Area: "),r.a.createElement(Y,{changeFilter:function(e){"all"!=e.id&&D.get(Q.replace(":id",e.id)).then((function(t){j(e),l(t.data.types)}))},name:"sci_area",types:u,value:v.id}),r.a.createElement("div",{style:{display:"block",float:"right"}},r.a.createElement(g.a,{size:"medium"},"Material Type:"),r.a.createElement(Y,{changeFilter:function(e){"all"!==e.id&&p(e)},name:"type",types:c,value:f.id})),r.a.createElement("div",{style:{float:"left"}},r.a.createElement(g.a,{size:"medium"},"Quantity:"),r.a.createElement(Xe.a,{type:"number",size:"mini",required:!0,defaultValue:1,onChange:function(e,t){return a=t.value,parseInt(a)<parseInt("1")&&C("1"),void(parseInt(a)>parseInt("10")?C("10"):C(a));var a},min:"1",max:"10",style:{width:"90%"}})))),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement(F.a,{fluid:!0},r.a.createElement(P.a,{basic:!0,id:"confirm",color:"green",content:"Confirm",disabled:R,onClick:function(){if(""===f)return Object(y.toast)({type:"warning",title:"Missing Information",description:"Select a type to associate the new material",time:2e3,size:"mini"});q(!0),D.post(te,{quantity:k,type:f.id}).then((function(t){Ae(t),setTimeout((function(){return e.history.push(e.location.pathname.replace("/addmaterial","/material"))}),3e3)})).catch((function(e){q(!1);var t=Ae(e.response);setTimeout((function(){w(t)}),3e3)}))}}),r.a.createElement(P.a,{basic:!0,color:"red",content:"Cancel",onClick:function(){e.history.push("/auth/labmanager/material")}})))))};var At=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)([]),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)(""),b=Object(h.a)(E,2),v=b[0],j=b[1],O=Object(n.useState)(""),S=Object(h.a)(O,2),k=S[0],C=S[1],z=Object(n.useState)(""),T=Object(h.a)(z,2),I=T[0],w=T[1],_=Object(n.useState)([]),R=Object(h.a)(_,2),q=R[0],D=R[1],A=Object(n.useState)([]),M=Object(h.a)(A,2),N=M[0],J=M[1],K=Object(n.useState)(null),U=Object(h.a)(K,2),V=U[0],$=U[1],X=Object(n.useState)(!1),ee=Object(h.a)(X,2),te=ee[0],ae=ee[1],ne=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function re(e){var t,a=e.target.name;t=a,J(Object(x.a)(Object(x.a)({},N),{},Object(tt.a)({},t,!N[t])))}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userinfo")).roles.find((function(e){return"lab_responsible"===e.name}));ne.get(W).then((function(t){var a=t.data.sci_areas.find((function(t){return t.id===e.sci_area_id})),n=t.data.sci_areas.find((function(e){return 0===e.id}));ne.get(Q.replace(":id",e.sci_area_id)).then((function(e){p([a,n]),l(e.data.subjects),s(e.data.subjects),j({id:a.id}),J(e.data.subjects.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(tt.a)({},t.id,!1))}),[]))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){$(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){$(t)}),3e3)})),ne.get(G).then((function(e){D(e.data.subjects.map((function(e){return e.id})))})).catch((function(e){return $(Ae(e.response))}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),V||r.a.createElement("div",null,r.a.createElement(H.a,{fluid:!0},r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,"Add Material Type"),r.a.createElement(H.a.Meta,{style:{marginTop:"2%"}},r.a.createElement(H.a.Header,null,"Scientific Area:"),r.a.createElement(Y,{changeFilter:function(e){"all"===e.id?e="":("0"==e.id?l([]):l(u),j(e))},name:"sci_area",types:f,value:v.id}),r.a.createElement("div",{style:{marginTop:"2%"}},r.a.createElement(g.a,null,"Subjects:"),r.a.createElement(L.a,{columns:5,style:{height:30,marginLeft:"5%",padding:8},centered:!0},0===c.length?r.a.createElement(g.a,null,"All Subjects Selected"):c.map((function(e){return r.a.createElement(L.a.Column,{key:e.type},r.a.createElement(nt,{name:e.id,label:e.name,isSelected:N[e.id],onCheckboxChange:re,key:e.type}))}))))),r.a.createElement(H.a.Description,{style:{marginTop:"10%"}},r.a.createElement(g.a,{attached:"top"},"New Material Type"),r.a.createElement(dt.a,{attached:!0},r.a.createElement(g.a,null,"Name:"),r.a.createElement(Ve.a,null,r.a.createElement(ft.a,{required:!0,onChange:function(e,t){return C(t.value)},style:{textAlign:"center"},maxLength:"15"})),r.a.createElement(g.a,null,"Description:"),r.a.createElement(Ve.a,null,r.a.createElement(ft.a,{required:!0,onChange:function(e,t){return w(t.value)},style:{textAlign:"center"},maxLength:"150"}))))),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement(F.a,{fluid:!0},r.a.createElement(P.a,{basic:!0,color:"green",id:"confirm",content:"Confirm",disabled:te,onClick:function(){var t=Object.keys(N).filter((function(e){return N[e]}));if(""===k||0==k.trimLeft().length)return Object(y.toast)({type:"warning",title:"Missing Information",description:"Insert a name for the new type",time:2e3,size:"mini"});if(""===I||0==I.trimLeft().length)return Object(y.toast)({type:"warning",title:"Missing Information",description:"Insert a description for the new type",time:2e3,size:"mini"});if(0!=v.id){if(0===t.length)return Object(y.toast)({type:"warning",title:"Missing Information",description:"Select subjects to associate with the new type",time:2e3,size:"mini"});ae(!0),ne.post(Z.replace(":sciAreaId",v.id),{name:k,description:I,subjects:t}).then((function(t){Ae(t),setTimeout((function(){return e.history.push(e.location.pathname.replace("/addtype","/type"))}),3e3)})).catch((function(e){Ae(e.response),ae(!1)}))}else ae(!0),ne.post(Z.replace(":sciAreaId",v.id),{name:k,description:I,subjects:q}).then((function(t){Ae(t),setTimeout((function(){return e.history.push(e.location.pathname.replace("/addtype","/type"))}),3e3)})).catch((function(e){Ae(e.response),ae(!1)}))}}),r.a.createElement(P.a,{basic:!0,color:"red",content:"Cancel",onClick:function(){e.history.push("/auth/labmanager/type")}}))))))};var Mt=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)({}),d=Object(h.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)(null),b=Object(h.a)(E,2),v=b[0],j=b[1],C=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function z(){C.get(Q.replace(":id",f.id)).then((function(e){l(e.data.subjects||[])})).catch((function(e){var t=Ae(e.response);setTimeout((function(){j(t)}),3e3)}))}return Object(n.useEffect)((function(){var t=e.match.params.id;C.get(Q.replace(":id",t)).then((function(e){l(e.data.subjects||[]),p({name:e.data.name,id:t})})).catch((function(e){var t=Ae(e.response);setTimeout((function(){j(t)}),3e3)}))}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),v||(f.id?r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Scientific Area: ",f.name),r.a.createElement(O.a,null),r.a.createElement(g.a,{size:"medium"},"Subjects:"),r.a.createElement("div",{className:"ui medium action input"},r.a.createElement(Xe.a,{id:"addsubject",type:"text",maxLength:"4",onChange:function(e,t){var a;""!=(a=t.value)&&0!=a.trimLeft().length&&s(a)},action:r.a.createElement(P.a,{onClick:function(){var e=document.getElementById("addsubject");""!=e.value&&""!=u&&C.post(V.replace(":sciAreaId",f.id),{name:u}).then((function(t){e.value="",Ae(t),setTimeout((function(){return z()}),3e3)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){j(t)}),3e3)}))}},"Add"),placeholder:"Subjects..."})),r.a.createElement(Le.a,{divided:!0},c.map((function(e){return r.a.createElement(Le.a.Item,{key:e.id},r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(P.a,{size:"big",id:"delete"+e.id,compact:!0,onClick:function(){return function(e){var t=document.getElementById("delete".concat(e));t.disabled=!0,C.delete(V.replace(":sciAreaId",f.id)+"/".concat(e)).then((function(e){Ae(e),setTimeout((function(){return z()}),3e3)})).catch((function(e){t.disabled=!1;var a=Ae(e.response);setTimeout((function(){j(a)}),3e3)}))}(e.id)},icon:"red close"})),r.a.createElement(Le.a.Content,null,e.name))})))):r.a.createElement(S.a,null,"Loading...",r.a.createElement(k.a,{name:"circle notched",loading:!0}))))};var Nt=function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(h.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(null),d=Object(h.a)(m,2),f=d[0],p=d[1],E=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}});function b(e){E.get(Q.replace(":id",e)).then((function(e){E.get(Q.replace(":id","0")).then((function(t){l([].concat(Object(M.a)(e.data.types),Object(M.a)(t.data.types)))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){p(t)}),3e3)}))})).catch((function(e){var t=Ae(e.response);setTimeout((function(){p(t)}),3e3)}))}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userinfo")).roles.find((function(e){return"lab_responsible"===e.name}));s(e.sci_area_id),b(e.sci_area_id)}),[]),r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),f||r.a.createElement("div",null,r.a.createElement(g.a,{size:"medium"},"Material Type:"),r.a.createElement(P.a,{size:"medium",icon:"add",content:"Add Type",onClick:function(){e.history.push("/auth/labmanager/addtype")}}),r.a.createElement(O.a,null),r.a.createElement(Le.a,{divided:!0},c.map((function(e){return r.a.createElement(Le.a.Item,{key:e.id},r.a.createElement(Le.a.Content,{floated:"right"},r.a.createElement(P.a,{size:"big",compact:!0,icon:"red close",id:"delete"+e.id,onClick:function(){return function(e){var t=document.getElementById("delete"+e);t.disabled=!0;var a=u;0==e.split("-")[0]&&(a="0"),E.delete(ee.replace(":sciAreaId",a).replace(":id",e)).then((function(e){Ae(e),setTimeout((function(){return b(u)}),3e3)})).catch((function(e){t.disabled=!1;var a=Ae(e.response);setTimeout((function(){p(a)}),3e3)}))}(e.id)}})),r.a.createElement(Le.a.Content,null,e.name))})))))};var Bt=function(e){var t=Object(n.useState)({roles:[]}),a=Object(h.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userinfo"));l(e)}),[]),r.a.createElement(H.a,{centered:!0},r.a.createElement(v.a,{src:"data:image/jpeg;base64,".concat(c.photo),wrapped:!0,ui:!1}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,c.name),r.a.createElement(H.a.Description,null,"Active Role: ",e.role)),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement("a",null,r.a.createElement("p",null,r.a.createElement(k.a,{name:"users"}),"Roles:"),c.roles.map((function(e,t){return t+1===c.roles.length?e.name:e.name+", "})))))},Lt=a(22),Ht=a(452),Ft=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){t.name;var a=t.value;n.props.setMonth&&n.props.setMonth(a)},n.state={month:""},n}return Object(u.a)(a,[{key:"currentTime",value:function(){var e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return e=a+"-"+t}},{key:"render",value:function(){return r.a.createElement(Ve.a,null,r.a.createElement(Ue.MonthInput,{dateFormat:"YYYY-MM",name:"date",placeholder:"Data",value:this.props.date,iconPosition:"left",popupPosition:"top left",onChange:this.handleChange,maxDate:this.currentTime()}))}}]),a}(n.Component),Pt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){t.name;var a=t.value;n.props.setYear&&n.props.setYear(a)},n.state={year:""},n}return Object(u.a)(a,[{key:"currentTime",value:function(){var e=new Date,t=e.getFullYear();return e=t}},{key:"render",value:function(){return r.a.createElement(Ve.a,null,r.a.createElement(Ue.YearInput,{dateFormat:"YYYY",name:"date",placeholder:"Data",value:this.props.date,iconPosition:"left",popupPosition:"top left",onChange:this.handleChange,maxDate:this.currentTime()}))}}]),a}(n.Component);var Yt=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(h.a)(l,2),o=i[0],u=i[1],s=Object(n.useState)([]),m=Object(h.a)(s,2),d=m[0],f=m[1],p=Object(n.useState)([]),E=Object(h.a)(p,2),b=E[0],v=E[1],j=Object(n.useState)([]),S=Object(h.a)(j,2),k=S[0],C=S[1],z=Object(n.useState)("all"),T=Object(h.a)(z,2),I=T[0],w=T[1],_=Object(n.useState)(null),x=Object(h.a)(_,2),R=x[0],q=x[1],D=Object(n.useState)([]),A=Object(h.a)(D,2),M=A[0],N=A[1],L=Object(n.useState)([]),H=Object(h.a)(L,2),F=H[0],J=H[1],K=Object(n.useState)("all"),W=Object(h.a)(K,2),Q=W[0],G=W[1],U=Object(n.useState)([]),V=Object(h.a)(U,2),X=V[0],Z=V[1],ee=Object(n.useState)("all"),te=Object(h.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),ce=Object(h.a)(re,2),le=ce[0],ie=ce[1],oe=Object(n.useState)(""),ue=Object(h.a)(oe,2),se=ue[0],me=ue[1],de=Object(n.useState)([]),fe=Object(h.a)(de,2),he=fe[0],pe=fe[1],Ee=Object(n.useState)("all"),be=Object(h.a)(Ee,2),ge=be[0],ve=be[1],_e=Object(n.useState)(""),xe=Object(h.a)(_e,2),Re=xe[0],qe=xe[1],De=Object(n.useState)(""),Me=Object(h.a)(De,2),Ne=Me[0],Be=Me[1],Le=Object(n.useState)([]),He=Object(h.a)(Le,2),Fe=He[0],Pe=He[1],Ye=Object(n.useState)("all"),Je=Object(h.a)(Ye,2),Ke=Je[0],We=Je[1],Qe=Object(n.useState)(""),Ge=Object(h.a)(Qe,2),Ue=Ge[0],Ve=Ge[1],Xe=Object(n.useState)(""),Ze=Object(h.a)(Xe,2),et=Ze[0],tt=Ze[1],at=B.a.create({headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),nt=Object(n.useState)(null),rt=Object(h.a)(nt,2),ct=rt[0],lt=rt[1];function it(){at.get(ye).then((function(e){u(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function ot(){at.get(je).then((function(e){f(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function ut(){at.get(Oe).then((function(e){v(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function st(){var e="";"all"!=I&&(e+="?type=".concat(I)),at.get(Se+e).then((function(e){C(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function mt(){at.get(ke).then((function(e){q(e.data.average)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function dt(){at.get(Ce).then((function(e){N(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function ft(){var e="";"all"!=Q&&(e+="?type=".concat(Q)),at.get(ze+e).then((function(e){J(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function ht(){var e="";"all"!=ae&&(e+="?type=".concat(ae)),""!=le&&(e.length>0?e+="&":e+="?",e+="from=".concat(le)),""!=se&&(e.length>0?e+="&":e+="?",e+="to=".concat(se)),at.get(Te+e).then((function(e){Z(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function pt(){var e="";"all"!=ge&&(e+="?type=".concat(ge)),""!=Re&&(e.length>0?e+="&":e+="?",e+="from=".concat(Re)),""!=Ne&&(e.length>0?e+="&":e+="?",e+="to=".concat(Ne)),at.get(Ie+e).then((function(e){pe(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}function Et(){var e="";"all"!=Ke&&(e+="?type=".concat(Ke)),""!=Ue&&(e.length>0?e+="&":e+="?",e+="from=".concat(Ue)),""!=et&&(e.length>0?e+="&":e+="?",e+="to=".concat(et)),at.get(we+e).then((function(e){Pe(e.data.data)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)}))}return Object(n.useEffect)((function(){at.get($).then((function(e){c(e.data.types)})).catch((function(e){var t=Ae(e.response);setTimeout((function(){lt(t)}),3e3)})),it(),ot(),ut(),st(),mt(),dt(),ft(),ht(),pt(),Et()}),[]),ct||r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),r.a.createElement(g.a,null,"Statistics"),r.a.createElement(O.a,{style:{marginBottom:"5%"}}),r.a.createElement("div",null,r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:mt}),r.a.createElement(g.a,{size:"small"},"Average Time to Repair"),r.a.createElement(Ht.a,null,r.a.createElement(Ht.a.Value,null,R),r.a.createElement(Ht.a.Label,null,"Minutes"))),r.a.createElement("div",{style:{marginTop:"5%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:it}),r.a.createElement(g.a,{size:"small"},"Top Ten Most Used Material Types"),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:o},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"type_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"nr_times",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"5%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:ot}),r.a.createElement(g.a,{size:"small"},"Top Ten Most Used Material"),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:d},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"material_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"nr_times",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"6.8%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:ut}),r.a.createElement(g.a,{size:"small"},"Damages Per Type"),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:b},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"type_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"nr_damages",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"5%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:st}),r.a.createElement(g.a,{size:"small"},"Damaged Material"),r.a.createElement(Y,{types:a,value:I,changeFilter:function(e){w(e.id)},optionAll:!0}),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:k},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"material_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"nr_damages",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"6.8%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:dt}),r.a.createElement(g.a,{size:"small"},"Number of Requested Hours Per Type"),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:M},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"type_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"hours",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"5%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:ft}),r.a.createElement(g.a,{size:"small"},"Number of Requested Hours Per Material"),r.a.createElement(Y,{types:a,value:Q,changeFilter:function(e){G(e.id)},optionAll:!0}),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:F},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"material_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"hours",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"5%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:ht}),r.a.createElement(g.a,{size:"small"},"Requests Per Type By Day"),r.a.createElement(P.a,{content:"Reset",floated:"right",onClick:function(){me(""),ie(""),ne("all")}}),r.a.createElement(Y,{types:a,value:ae,changeFilter:function(e){ne(e.id)},optionAll:!0}),"From: ",r.a.createElement($e,{setDay:function(e){return ie(e)},date:le}),"To: ",r.a.createElement($e,{setDay:function(e){return me(e)},date:se}),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:X},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"material_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"nr_requests",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"5%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:pt}),r.a.createElement(g.a,{size:"small"},"Requests Per Type By Month"),r.a.createElement(P.a,{content:"Reset",floated:"right",onClick:function(){Be(""),qe(""),ve("all")},optionAll:!0}),r.a.createElement(Y,{types:a,value:ge,changeFilter:function(e){ve(e.id)}}),"From: ",r.a.createElement(Ft,{setMonth:function(e){return qe(e)},date:Re}),"To: ",r.a.createElement(Ft,{setMonth:function(e){return Be(e)},date:Ne}),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:he},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"material_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"nr_requests",fill:"#c46b5e"}))),r.a.createElement("div",{style:{marginTop:"5%"}},r.a.createElement(P.a,{style:{float:"right"},icon:"refresh",circular:!0,basic:!0,onClick:Et}),r.a.createElement(g.a,{size:"small"},"Requests Per Type By Year"),r.a.createElement(P.a,{content:"Reset",floated:"right",onClick:function(){tt(""),Ve(""),We("all")}}),r.a.createElement(Y,{types:a,value:Ke,changeFilter:function(e){We(e.id)},optionAll:!0}),"From: ",r.a.createElement(Pt,{setYear:function(e){return Ve(e)},date:Ue}),"To: ",r.a.createElement(Pt,{setYear:function(e){return tt(e)},date:et}),r.a.createElement(Lt.b,{width:700,height:300,style:{marginLeft:"auto",marginRight:"auto"},data:Fe},r.a.createElement(Lt.c,{strokeDasharray:"3 3"}),r.a.createElement(Lt.f,{dataKey:"material_name"}),r.a.createElement(Lt.g,null),r.a.createElement(Lt.e,null),r.a.createElement(Lt.d,null),r.a.createElement(Lt.a,{dataKey:"nr_requests",fill:"#c46b5e"}))))};var Jt=function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(h.a)(i,2),u=o[0],s=o[1];function m(e){"password"==e.target.name?s(e.target.value):l(e.target.value)}function d(){return(d=Object(it.a)(lt.a.mark((function t(a){return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!c||0===c.trim().length||!u||0===u.trim().length){t.next=7;break}return t.next=4,e.login(c,u);case 4:e.onLogin(),t.next=9;break;case 7:return Object(y.toast)({type:"warning",size:"mini",description:"Please insert a username and a password",title:"Something went wrong",time:2e3}),t.abrupt("return",Promise.resolve());case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(y.SemanticToastContainer,null),r.a.createElement(v.a,{src:T.a,style:{width:"8%",height:"8%"},floated:"right"}),r.a.createElement(v.a,{src:w.a,size:"small",floated:"left"}),r.a.createElement(L.a,{centered:!0,style:{marginTop:125,display:"inline-block"}},r.a.createElement(L.a.Column,{style:{maxWidth:380}},r.a.createElement(g.a,{textAlign:"center"},"SiGeMaDi"),r.a.createElement(Ve.a,{size:"large",onSubmit:function(e){return d.apply(this,arguments)}},r.a.createElement(dt.a,null,r.a.createElement(Ve.a.Field,null,r.a.createElement(Xe.a,{iconPosition:"left",icon:"user",type:"text",name:"username",placeholder:"Your username",onChange:m})),r.a.createElement(Ve.a.Field,null,r.a.createElement(Xe.a,{iconPosition:"left",icon:"key",type:"password",name:"password",placeholder:"Your password",onChange:m})),r.a.createElement(P.a,{fluid:!0,size:"large",type:"submit",content:"Sign in",icon:"sign in"}))))))};var Kt=function(e){var t=Object(n.useState)(o()),a=Object(h.a)(t,2),c=a[0],l=a[1];function i(){return(i=Object(it.a)(lt.a.mark((function e(t,a){var n,r,c,l,i,o;return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.clear(),e.next=3,B.a.post(K,{},{auth:{username:t,password:a}}).catch((function(e){return Ae(e.response),null}));case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:return r=n.data.token,e.next=9,B.a.get(ce.replace(":id",t),{headers:{Authorization:"Bearer "+r}}).catch((function(e){return Ae(e.response),null}));case 9:if(c=e.sent){e.next=12;break}return e.abrupt("return");case 12:return l=c.data,e.next=15,B.a.get(re.replace(":id",t)).catch((function(e){return Ae(e.response),null}));case 15:if(i=e.sent){e.next=18;break}return e.abrupt("return");case 18:if(!(o=i.data.roles).find((function(e){return"student"==e.name}))){e.next=21;break}return e.abrupt("return",Object(y.toast)({type:"error",title:"Forbidden Access",description:"Students can\xb4t login in WebApp",time:2e3,size:"mini"}));case 21:return l.roles=o,e.next=24,localStorage.setItem("userinfo",JSON.stringify(l));case 24:return e.abrupt("return",localStorage.setItem("token",r));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return null!=localStorage.getItem("token")}return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login"},c?r.a.createElement(d.a,{to:"/auth/roles"}):r.a.createElement(Jt,{login:function(e,t){return i.apply(this,arguments)},onLogin:function(){l(o())}})),r.a.createElement(d.b,null,c?e.children:r.a.createElement(d.a,{to:"/login"})))},Wt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(d.c,{history:Object(f.a)()},r.a.createElement(d.d,null,r.a.createElement(p,{exact:!0,path:"/",render:function(e){return r.a.createElement(j,e)}}),r.a.createElement(p,{exact:!0,path:"/login",render:function(){return r.a.createElement(Kt,null)}}),r.a.createElement(p,{path:"/auth/roles",render:function(e){return r.a.createElement(C,e)}}),r.a.createElement(p,{role:"staff",exact:!0,path:"/auth/staff",render:function(e){return r.a.createElement(_,null,r.a.createElement(Ge,e)," ")}}),r.a.createElement(p,{role:"staff",exact:!0,path:"/auth/staff/material",render:function(e){return r.a.createElement(_,null,r.a.createElement(Be,e)," ")}}),r.a.createElement(p,{role:"staff",exact:!0,path:"/auth/staff/material/:id",render:function(e){return r.a.createElement(_,null,r.a.createElement(Pe,e)," ")}}),r.a.createElement(p,{role:"staff",exact:!0,path:"/auth/staff/request",render:function(e){return r.a.createElement(_,null,r.a.createElement(et,e)," ")}}),r.a.createElement(p,{role:"staff",exact:!0,path:"/auth/staff/request/:id",render:function(e){return r.a.createElement(_,null,r.a.createElement(rt,e)," ")}}),r.a.createElement(p,{role:"staff",exact:!0,path:"/auth/staff/newrequest/material",render:function(e){return r.a.createElement(_,null,r.a.createElement(ot,e)," ")}}),r.a.createElement(p,{role:"staff",path:"/auth/staff/newrequest/material/checkout",render:function(e){return r.a.createElement(_,null,r.a.createElement(mt,Object.assign({},e,{newRequest:!0}))," ")}}),r.a.createElement(p,{role:"staff",exact:!0,path:"/auth/staff/request/:id/material",render:function(e){return r.a.createElement(_,null,r.a.createElement(ot,e)," ")}}),r.a.createElement(p,{role:"staff",path:"/auth/staff/request/:id/material/checkout",render:function(e){return r.a.createElement(_,null,r.a.createElement(mt,e)," ")}}),r.a.createElement(p,{role:"staff",path:"/auth/staff/material/:id/report",render:function(e){return r.a.createElement(_,null,r.a.createElement(ht,e)," ")}}),r.a.createElement(p,{role:"administrator",exact:!0,path:"/auth/admin",render:function(e){return r.a.createElement(R,null,r.a.createElement(Bt,{role:"Administrator"})," ")}}),r.a.createElement(p,{role:"administrator",exact:!0,path:"/auth/admin/usersroles",render:function(e){return r.a.createElement(R,null,r.a.createElement(Et,e)," ")}}),r.a.createElement(p,{role:"administrator",path:"/auth/admin/usersroles/:id",render:function(e){return r.a.createElement(R,null,r.a.createElement(bt,e)," ")}}),r.a.createElement(p,{role:"administrator",exact:!0,path:"/auth/admin/areas",render:function(e){return r.a.createElement(R,null,r.a.createElement(gt,e)," ")}}),r.a.createElement(p,{role:"administrator",path:"/auth/admin/areas/:id/course",render:function(e){return r.a.createElement(R,null,r.a.createElement(Mt,e)," ")}}),r.a.createElement(p,{role:"administrator",path:"/auth/admin/statistics",render:function(e){return r.a.createElement(R,null,r.a.createElement(Yt,null)," ")}}),r.a.createElement(p,{role:"teacher",exact:!0,path:"/auth/teacher",render:function(e){return r.a.createElement(D,null,r.a.createElement(Bt,{role:"Teacher"})," ")}}),r.a.createElement(p,{role:"teacher",exact:!0,path:"/auth/teacher/material",render:function(e){return r.a.createElement(D,null,r.a.createElement(Be,e)," ")}}),r.a.createElement(p,{role:"teacher",path:"/auth/teacher/material/:id",render:function(e){return r.a.createElement(D,null,r.a.createElement(Pe,e)," ")}}),r.a.createElement(p,{role:"teacher",exact:!0,path:"/auth/teacher/reservation",render:function(e){return r.a.createElement(D,null,r.a.createElement(St,e)," ")}}),r.a.createElement(p,{role:"teacher",exact:!0,path:"/auth/teacher/reservation/:id",render:function(e){return r.a.createElement(D,null,r.a.createElement(kt,e)," ")}}),r.a.createElement(p,{role:"teacher",exact:!0,path:"/auth/teacher/newreservation/types",render:function(e){return r.a.createElement(D,null,r.a.createElement(vt,e)," ")}}),r.a.createElement(p,{role:"teacher",path:"/auth/teacher/newreservation/types/checkout",render:function(e){return r.a.createElement(D,null,r.a.createElement(Ot,Object.assign({},e,{newReservation:!0}))," ")}}),r.a.createElement(p,{role:"technician",exact:!0,path:"/auth/tech",render:function(e){return r.a.createElement(q,null,r.a.createElement(Bt,{role:"Technician"})," ")}}),r.a.createElement(p,{role:"technician",exact:!0,path:"/auth/tech/damages",render:function(e){return r.a.createElement(q,null,r.a.createElement(zt,e)," ")}}),r.a.createElement(p,{role:"technician",path:"/auth/tech/damages/:id",render:function(e){return r.a.createElement(q,null,r.a.createElement(_t,e)," ")}}),r.a.createElement(p,{role:"technician",exact:!0,path:"/auth/tech/history",render:function(e){return r.a.createElement(q,null,r.a.createElement(Rt,e)," ")}}),r.a.createElement(p,{role:"technician",path:"/auth/tech/history/:id",render:function(e){return r.a.createElement(q,null,r.a.createElement(xt,e)," ")}}),r.a.createElement(p,{role:"labmanager",exact:!0,path:"/auth/labmanager",render:function(e){return r.a.createElement(A,null,r.a.createElement(Bt,{role:"Laboratory Responsible"})," ")}}),r.a.createElement(p,{role:"labmanager",exact:!0,path:"/auth/labmanager/statistics",render:function(e){return r.a.createElement(A,null,r.a.createElement(Yt,null)," ")}}),r.a.createElement(p,{role:"labmanager",exact:!0,path:"/auth/labmanager/material",render:function(e){return r.a.createElement(A,null,r.a.createElement(qt,e)," ")}}),r.a.createElement(p,{role:"labmanager",exact:!0,path:"/auth/labmanager/type",render:function(e){return r.a.createElement(A,null,r.a.createElement(Nt,e)," ")}}),r.a.createElement(p,{role:"labmanager",path:"/auth/labmanager/material/:id",render:function(e){return r.a.createElement(A,null,r.a.createElement(Pe,e)," ")}}),r.a.createElement(p,{role:"labmanager",path:"/auth/labmanager/addmaterial",render:function(e){return r.a.createElement(A,null,r.a.createElement(Dt,e)," ")}}),r.a.createElement(p,{role:"labmanager",path:"/auth/labmanager/addtype",render:function(e){return r.a.createElement(A,null,r.a.createElement(At,e)," ")}}),r.a.createElement(d.b,{path:"*",render:function(){return r.a.createElement(Re,{home:!0})}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(Kt,null,r.a.createElement(Wt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[500,1,2]]]);